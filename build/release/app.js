!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(14),o=n(3),a=n(5);i.addListeners({load:function(){o.init([n(20),n(21),n(19)])},done:function(){o.navigate("pageMain")},keydown:function(e){e.code===a.back&&o.back()}})},function(e,t,n){/**
	 * @module stb/ui/panel
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){e=e||{},void 0===e.focusable&&(e.focusable=!1),o.call(this,e),this.$node.classList.add("panel")}var o=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){/**
	 * @module stb/component
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){var t=this;if(this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.page=null,this.parent=null,this.children=[],e=e||{},"object"!=typeof e)throw"wrong config type";if(o.call(this,e.data),void 0!==e.$node){if(!(e.$node instanceof Node))throw"wrong config.$node type";this.$node=e.$node}else this.$node=document.createElement("div");if(void 0!==e.$body){if(!(e.$body instanceof Node))throw"wrong config.$body type";this.$body=e.$body}else this.$body=this.$node;if(void 0!==e.$content){if(!(e.$content instanceof Node))throw"wrong config.$content type";this.$body.appendChild(e.$content)}if(this.$node.classList.add("component"),void 0!==e.parent){if(!(e.parent instanceof i))throw"wrong config.parent type";e.parent.add(this)}if(e.visible===!1&&this.hide(),e.focusable===!1&&(this.focusable=!1),void 0!==e.events&&this.addListeners(e.events),this.id=e.id||this.$node.id||"id"+s++,e.children){if(!Array.isArray(e.children))throw"wrong config.children type";this.add.apply(this,e.children)}this.$node.addEventListener("click",function(e){0===e.button&&(t.focus(),t.emit("click",{event:e})),1===e.button&&(window.link=t),e.stopPropagation()}),this.$node.component=this.$body.component=this,this.$node.title="component "+this.constructor.name+"."+this.id+" (outer)",this.$body.title="component "+this.constructor.name+"."+this.id+" (inner)"}var o=n(6),a=n(3),s=0;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.add=function(e){var t;for(t=0;t<arguments.length;t++){if(e=arguments[t],!(e instanceof i))throw"wrong child type";this.children.push(e),e.parent=this,e.setPage(this.page),void 0!==e.$node&&null===e.$node.parentNode&&this.$body.appendChild(e.$node),this.emit("add",{item:e})}},i.prototype.setPage=function(e){this.page=e,this.children.forEach(function(t){t.setPage(e)})},i.prototype.remove=function(){var e=a.current;if(this.parent){if(!(this.parent instanceof i))throw"wrong this.parent type";e.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)}this.children.forEach(function(e){if(!(e instanceof i))throw"wrong child type";e.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.emit("remove")},i.prototype.focus=function(){var e=a.current,t=e.activeComponent;if(this.page!==e)throw"attempt to focus an invisible component";return this.focusable&&this!==t?(t&&t.blur(),e.activeComponent=t=this,t.$node.classList.add("focus"),t.emit("focus"),!0):!1},i.prototype.blur=function(){var e=a.current,t=e.activeComponent;return this===t?(this.$node.classList.remove("focus"),e.activeComponent=null,this.emit("blur"),!0):!1},i.prototype.show=function(){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.emit("show"),!0)},i.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.emit("hide"),!0):!0},e.exports=i},function(e,t,n){/**
	 * Page navigation with history.
	 *
	 * @module stb/router
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var i,o=n(6);i=new o,i.current=null,i.history=[],i.pages=[],i.ids={},i.init=function(e){var t,n,i;if(void 0!==e){if(!Array.isArray(e))throw"wrong pages type";for(this.pages=[],this.pages=e,t=0,n=e.length;n>t;t++)i=e[t],this.ids[i.id]=i,i.active&&(this.current=i);return this.emit("init",{pages:e}),!0}return!1},i.parse=function(e){var t={name:"",data:[]};return t.data=e.split("/").map(decodeURIComponent),t.name=t.data.shift().slice(1),t},i.stringify=function(e,t){return t=Array.isArray(t)?t:[],e=encodeURIComponent(e),t=t.map(encodeURIComponent),t.unshift(e),t.join("/")},i.show=function(e,t){return e&&!e.active?(e.$node.classList.add("active"),e.active=!0,this.current=e,e.emit("show",{page:e,data:t}),!0):!1},i.hide=function(e){return e&&e.active?(e.$node.classList.remove("active"),e.active=!1,this.current=null,e.emit("hide",{page:e}),!0):!1},i.navigate=function(e,t){var n=this.current,i=this.ids[e];if(!i||"object"!=typeof i)throw"wrong pageTo type";if(!("active"in i))throw'missing field "active" in pageTo';return i&&!i.active?(location.hash=this.stringify(e,t),this.hide(this.current),this.show(i,t),this.emit("navigate",{from:n,to:i}),this.history.push(i),!0):!1},i.back=function(){var e,t;return this.history.length>1&&(e=this.history.pop(),t=this.history[this.history.length-1],t&&!t.active)?(location.hash=t.id,this.hide(this.current),this.show(t),this.emit("navigate",{from:e,to:t}),!0):!1},e.exports=i},function(e,t,n){/**
	 * @module stb/ui/button
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){var t=this;e=e||{},o.call(this,e),this.$node.classList.add("button"),this.$body.innerText=void 0!==e.value?e.value:this.constructor.name+"."+this.id,e.icon&&(t.$node.classList.add("icon"),t.$node.classList.add("icon-"+e.icon)),this.addListener("keydown",function(e){13===e.code&&t.emit("click",{event:e})}),this.addListener("click",function(){t.$node.classList.add("click"),setTimeout(function(){t.$node.classList.remove("click")},200)})}var o=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},function(e){/**
	 * Global list of key codes.
	 *
	 *  Value | Description
	 * -------|-------------
	 *  +1000 | shift key pressed
	 *  +2000 | alt key pressed
	 *
	 * @module stb/keys
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";e.exports={back:8,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,num0:48,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(e){/**
	 * @module stb/emitter
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function t(){this.events={}}t.prototype={addListener:function(e,t){if(2!==arguments.length)throw"wrong arguments number";if("string"!=typeof e||0===e.length)throw"wrong or empty name";if("function"!=typeof t)throw"wrong callback type";e&&"function"==typeof t&&(this.events[e]=this.events[e]||[],this.events[e].push(t))},once:function(e,t){var n=this;if(2!==arguments.length)throw"wrong arguments number";if("string"!=typeof e||0===e.length)throw"wrong or empty name";if("function"!=typeof t)throw"wrong callback type";e&&"function"==typeof t&&(this.events[e]=this.events[e]||[],this.events[e].push(function i(o){t(o),n.removeListener(e,i)}))},addListeners:function(e){var t;if(1!==arguments.length)throw"wrong arguments number";if("object"!=typeof e)throw"wrong callbacks type";if(0===Object.keys(e).length)throw"no callbacks given";if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,t){if(2!==arguments.length)throw"wrong arguments number";if("string"!=typeof e||0===e.length)throw"wrong or empty name";if("function"!=typeof t)throw"wrong callback type";Array.isArray(this.events[e])&&(this.events[e]=this.events[e].filter(function(e){return e!==t}),0===this.events[e].length&&delete this.events[e])},removeAllListeners:function(e){if(0!==arguments.length&&("string"!=typeof e||0===e.length))throw"wrong or empty name";if(0===arguments.length)this.events={};else if(e){if(void 0!==this.events[e])throw"event is not removed";delete this.events[e]}},emit:function(e,t){var n,i=this.events[e];if(arguments.length<1)throw"wrong arguments number";if("string"!=typeof e||0===e.length)throw"wrong or empty name";if(void 0!==i){if(!Array.isArray(i))throw"wrong event type";for(n=0;n<i.length;n++){if("function"!=typeof i[n])throw"wrong event callback type";i[n](t)}}}},e.exports=t},function(e,t,n){/**
	 * @module stb/ui/modal
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){e=e||{},o.call(this,e),this.$node.classList.add("modal")}var o=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){/**
	 * @module stb/ui/page
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){this.active=!1,this.activeComponent=null,e=e||{},o.call(this,e),this.$node.classList.add("page"),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var o=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},function(e){/**
	 * HTML elements low-level handling.
	 *
	 * @module stb/dom
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var t={};t.tag=function(e,t){var n,i,o=null;if(e){if(o=document.createElement(e),t&&"object"==typeof t)for(i in t)o[i]=t[i];for(n=2;n<arguments.length;n++)arguments[n]&&o.appendChild("object"==typeof arguments[n]?arguments[n]:document.createTextNode(arguments[n]))}return o},t.fragment=function(e){var t,n=document.createDocumentFragment();for(t=0;t<arguments.length;t++)e=arguments[t],e&&n.appendChild("object"==typeof e?e:document.createTextNode(e));return n},t.add=function(e){var t;if(e instanceof Node){for(t=1;t<arguments.length;t++)arguments[t]&&e.appendChild("object"==typeof arguments[t]?arguments[t]:document.createTextNode(arguments[t]));return e}return null},t.remove=function(){var e,t=0;for(e=0;e<arguments.length;e++)arguments[e]&&arguments[e].parentNode&&arguments[e].parentNode.removeChild(arguments[e])===arguments[e]&&t++;return arguments.length>0&&t===arguments.length},e.exports=t},function(e,t,n){/**
	 * @module stb/ui/check.box
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){var t=this;if(e=e||{},this.value=!!e.value,this.group=null,o.call(this,e),this.$node.classList.add("checkBox"),this.value&&this.$node.classList.add("checked"),void 0!==e.group){if("string"!=typeof e.group||0===e.group.length)throw"wrong or empty config.group";this.group=e.group,void 0===s[e.group]?s[e.group]=[this]:s[e.group].push(this)}this.addListeners({click:function(){t.set(!t.value)},keydown:function(e){e.code===a.ok&&t.set(!t.value)}})}var o=n(2),a=n(5),s={};i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.set=function(e){var t,n;if(this.value!==e){if(!this.value&&null!==this.group)for(t=0,n=s[this.group].length;n>t;t++)s[this.group][t].set(!1);return this.value=!this.value,this.$node.classList.toggle("checked"),this.emit("change",{value:this.value}),!0}return!1},e.exports=i},function(e,t,n){/**
	 * @module stb/ui/list
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){var t=this;if(this.$focusItem=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.render=this.defaultRender,e=e||{},o.call(this,e),void 0!==e.type){if(Number(e.type)!==e.type)throw"config.type must be a number";this.type=e.type}this.$node.classList.add("list"),this.type===this.TYPE_HORIZONTAL&&this.$node.classList.add("horizontal"),this.init(e),this.addListener("keydown",function(e){switch(e.code){case a.up:case a.down:case a.right:case a.left:case a.pageUp:case a.pageDown:t.move(e.code);break;case a.ok:t.emit("click:item",{$item:t.$focusItem,event:e})}}),this.$body.addEventListener("mousewheel",function(e){t.type===t.TYPE_VERTICAL&&e.wheelDeltaY&&t.move(e.wheelDeltaY>0?a.up:a.down),t.type===t.TYPE_HORIZONTAL&&e.wheelDeltaX&&t.move(e.wheelDeltaX>0?a.left:a.right)})}var o=n(2),a=n(5);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.TYPE_VERTICAL=1,i.prototype.TYPE_HORIZONTAL=2,i.prototype.defaultRender=function(e,t){e.innerText=t},i.prototype.init=function(e){var t,n,i=this,o=this.$body.children.length,a=function(e){void 0!==this.data&&(i.focusItem(this),i.emit("click:item",{$item:this,event:e}))};if(void 0!==e.data){if(!Array.isArray(e.data))throw"wrong config.data type";this.data=e.data}if(void 0!==e.render){if("function"!=typeof e.render)throw"wrong config.render type";this.render=e.render}if(void 0!==e.size){if(Number(e.size)!==e.size)throw"config.size must be a number";if(e.size<=0)throw"config.size should be positive";this.size=e.size}if(this.size!==o)for(o>0&&(this.$body.innerText=null),n=0;n<this.size;n++)t=document.createElement("div"),t.index=n,t.className="item",t.addEventListener("click",a),this.$body.appendChild(t);this.renderPage()},i.prototype.moveNext=function(){},i.prototype.movePrev=function(){},i.prototype.renderPage=function(){var e,t;for(t=0;t<this.size;t++)e=this.$body.children[t],void 0!==e.index&&void 0!==this.data[e.index]&&(e.data=this.data[e.index],this.render(e,this.data[e.index]))},i.prototype.move=function(e){(e===a.up&&self.type===self.TYPE_VERTICAL||e===a.left&&self.type===self.TYPE_HORIZONTAL)&&self.$focusItem.index>0&&(self.focusPrev()||(self.$body.insertBefore(self.$body.lastChild,self.$body.firstChild),self.render(self.$body.firstChild,self.data[self.$focusItem.index-1]),self.$body.firstChild.index=self.$focusItem.index-1,self.focusPrev())),(e===a.down&&self.type===self.TYPE_VERTICAL||e===a.right&&self.type===self.TYPE_HORIZONTAL)&&self.$focusItem.index<self.data.length-1&&(self.focusNext()||(self.$body.appendChild(self.$body.firstChild),self.render(self.$body.lastChild,self.data[self.$focusItem.index+1]),self.$body.lastChild.index=self.$focusItem.index+1,self.focusNext())),e===a.pageUp&&self.focusItem(self.$body.firstChild),e===a.pageDown&&self.focusItem(self.$body.lastChild)},i.prototype.focusItem=function(e){var t=this.$focusItem;if(void 0!==e&&t!==e){if(!(e instanceof Node))throw"wrong $item type";if(e.parentNode!==this.$body)throw"wrong $item parent element";if(null!==t){if(!(t instanceof Node))throw"wrong $prev type";t.classList.remove("focus"),this.emit("blur:item",{$item:t})}return this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),this.emit("focus:item",{$prev:t,$curr:e}),!0}return!1},i.prototype.focusNext=function(){return this.$focusItem!==this.$body.lastChild?this.focusItem(this.$focusItem.nextSibling):!1},i.prototype.focusPrev=function(){return this.$focusItem!==this.$body.firstChild?this.focusItem(this.$focusItem.previousSibling):!1},e.exports=i},function(e,t,n){/**
	 * @module stb/ui/modal.box
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){var t;e=e||{},o.call(this,e),this.$node.classList.add("modalBox"),t=this.$body,t.appendChild(a.tag("div",{className:"cell"},this.$body=a.tag("div",{className:"content"},"qwe")))}var o=n(7),a=n(9);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){/**
	 * @module stb/ui/progress.bar
	 * @author Igor Zaporozhets <deadbyelpy@gmail.com>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){e=e||{},this.max=100,this.min=0,this.value=0,this.step=1,void 0===e.focusable&&(e.focusable=!1),o.call(this,e),this.$node===this.$body&&(this.$body=this.$node.appendChild(document.createElement("div"))),this.$node.classList.add("progressBar"),this.$body.classList.add("value"),this.init(e)}var o=n(2);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.set=function(e){var t=this.value;if(this.value!==e&&e<=this.max&&e>=this.min){if(Number(e)!==e)throw"value must be a number";return this.value=e,e=Math.abs(this.value-this.min)/this.step,100===e&&this.emit("done"),this.$body.style.width=e+"%",this.emit("change",{curr:this.value,prev:t}),!0}return!1},i.prototype.init=function(e){if(void 0!==e.max){if(Number(e.max)!==e.max)throw"config.max value must be a number";this.max=e.max}if(void 0!==e.min){if(Number(e.min)!==e.min)throw"config.min value must be a number";this.min=e.min}if(void 0!==e.value){if(Number(e.value)!==e.value)throw"config.value must be a number";if(e.value>this.max)throw"config.value more than config.maximum";if(e.value<this.min)throw"config.value less than config.minimum";this.value=e.value}this.step=Math.abs(this.max-this.min)/100,this.$body.style.width=Math.abs(this.min-this.value)/this.step+"%"},e.exports=i},function(e,t,n){/**
	 * @module stb/app
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var i,o,a=n(15),s=n(3);n(16),i=new a({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),i.setScreen=function(e){return e?(e.availHeight=e.height-(e.availTop+e.availBottom),e.availWidth=e.width-(e.availLeft+e.availRight),window.moveTo(0,0),window.resizeTo(e.width,e.height),o&&o instanceof Node&&document.head.removeChild(o),o=document.createElement("link"),o.rel="stylesheet",o.href="css/"+e.height+".css",document.head.appendChild(o),this.data.screen=e,!0):!1},i.setScreen(n(31)[screen.height]),window.addEventListener("load",function(e){var t;i.data.time.load=e.timeStamp,i.emit(e.type,e),s.pages.forEach(function(t){t.emit(e.type,e)}),location.hash&&(t=s.parse(location.hash),s.navigate(t.name,t.data)),i.data.time.done=+new Date,i.emit("done",e)}),window.addEventListener("unload",function(e){s.pages.forEach(function(t){t.emit(e.type,e)})}),window.addEventListener("error",function(e){}),window.addEventListener("keydown",function(e){var t=s.current;0!==e.keyCode&&(e.code=e.keyCode,e.shiftKey&&(e.code+=1e3),e.altKey&&(e.code+=2e3),t&&(t.activeComponent&&t.activeComponent!==t&&t.activeComponent.emit(e.type,e),e.stop||t.emit(e.type,e)),e.stop||i.emit(e.type,e))}),window.addEventListener("click",function(e){}),window.addEventListener("contextmenu",function(e){i.data.debug||e.preventDefault()}),e.exports=i},function(e,t,n){/**
	 * @module stb/model
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){if(void 0!==e&&"object"!=typeof e)throw"wrong data type";o.call(this),this.data=e||{}}var o=n(6);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,i.prototype.idName="id",i.prototype.clear=function(){var e=this.data;if("object"!=typeof e)throw"wrong data type";return Object.keys(e).length>0?(this.data={},this.emit("clear",{data:e}),!0):!1},i.prototype.init=function(e){if("object"!=typeof e)throw"wrong data type";return e?(this.clear(),this.data=e,this.emit("init",{data:e}),!0):!1},i.prototype.has=function(e){if("object"!=typeof this.data)throw"wrong this.data type";return this.data.hasOwnProperty(e)},i.prototype.get=function(e){if("object"!=typeof this.data)throw"wrong this.data type";return this.data[e]},i.prototype.set=function(e,t){var n=e in this.data,i={name:e,curr:t};if("object"!=typeof this.data)throw"wrong this.data type";return n?(i.prev=this.data[e],t!==i.prev?(this.data[e]=t,this.emit("change",i),!0):!1):(this.data[e]=t,this.emit("change",i),!0)},i.prototype.unset=function(e){var t,n=e in this.data;if("object"!=typeof this.data)throw"wrong this.data type";return n?(t={name:e,prev:this.data[e]},delete this.data[e],this.emit("change",t),!0):!1},e.exports=i},function(){/**
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";if(!("classList"in document.documentElement)){var e=Array.prototype,t=e.indexOf,n=e.slice,i=e.push,o=e.splice,a=e.join;window.DOMTokenList=function(e){if(this._element=e,e.className!==this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,n=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<n.length;t++)i.call(this,n[t])}},window.DOMTokenList.prototype={add:function(e){this.contains(e)||(i.call(this,e),this._element.className=n.call(this,0).join(" "))},contains:function(e){return-1!==t.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var i=t.call(this,e);-1!==i&&(o.call(this,i,1),this._element.className=n.call(this,0).join(" "))},toString:function(){return a.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(e,t,n){/**
	 * @module stb/ui/grid
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){var t=this;this.map=[],this.$focusItem=null,this.data=[],this.render=this.defaultRender,this.cycleX=!0,this.cycleY=!0,this.focusX=0,this.focusY=0,e=e||{},r.call(this,e),this.$node.classList.add("grid"),this.init(e),this.addListener("keydown",function(e){switch(e.code){case c.up:case c.down:case c.right:case c.left:t.move(e.code);break;case c.ok:t.emit("click:item",{$item:t.$focusItem,event:e})}}),this.$body.addEventListener("mousewheel",function(e){e.wheelDeltaY&&t.move(e.wheelDeltaY>0?c.up:c.down),e.wheelDeltaX&&t.move(e.wheelDeltaX>0?c.left:c.right)})}function o(e){var t,n,i;for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++){if(i=e[t][n],"object"!=typeof i&&(i=e[t][n]={value:e[t][n]}),i.colSpan=i.colSpan||1,i.rowSpan=i.rowSpan||1,Number(i.colSpan)!==i.colSpan)throw"item.colSpan must be a number";if(Number(i.rowSpan)!==i.rowSpan)throw"item.rowSpan must be a number";if(i.colSpan<=0)throw"item.colSpan should be positive";if(i.rowSpan<=0)throw"item.rowSpan should be positive"}return e}function a(e,t,n,i,o,a){var s,r;for(s=n;n+o>s;s++){for(e.length<s+1&&e.push([]);void 0!==e[s][t];)t++;for(r=t;t+i>r;r++)e[s].length<r+1&&e[s].push(),e[s][r]=a,void 0===a.x&&(a.x=r),void 0===a.y&&(a.y=s)}}function s(e){var t,n,i,o=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)i=e[t][n],a(o,n,t,i.colSpan,i.rowSpan,i.$item),delete i.colSpan,delete i.rowSpan,delete i.$item;return o}var r=n(2),c=n(5);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.defaultRender=function(e,t){e.innerText=t.value},i.prototype.init=function(e){var t,n,i,a,r,c,l,d,u=this,h=function(e){u.focusX=this.x,u.focusY=this.y,u.focusItem(u.map[u.focusY][u.focusX]),u.emit("click:item",{$item:this,event:e})};if("object"!=typeof e)throw"wrong config type";if(void 0!==e.cycleX&&(this.cycleX=e.cycleX),void 0!==e.cycleY&&(this.cycleY=e.cycleY),void 0!==e.data){if(!Array.isArray(e.data))throw"wrong config.data type";this.data=e.data}if(void 0!==e.render){if("function"!=typeof e.render)throw"wrong config.render type";this.render=e.render}if(!Array.isArray(this.data)||!Array.isArray(this.data[0]))throw"wrong this.data";for(r=document.createElement("table"),c=document.createElement("tbody"),r.appendChild(c),this.data=o(this.data),t=0;t<this.data.length;t++){for(i=c.insertRow(),n=0;n<this.data[t].length;n++)a=i.insertCell(-1),a.className="item",d=this.data[t][n],d.$item=a,a.colSpan=d.colSpan,a.rowSpan=d.rowSpan,void 0!==d.focus&&(l=a,delete d.focus),this.render(a,d),a.data=d,a.addEventListener("click",h);c.appendChild(i)}this.map=s(this.data),this.$body.innerText=null,this.$body.appendChild(r),this.focusItem(void 0!==l?l:this.map[0][0])},i.prototype.move=function(e){var t=(this.focusX,this.focusY,!1),n=!1;switch(e){case c.up:this.focusY>0?this.focusY--:this.cycleY?(this.focusY=this.map.length-1,n=!0):t=!0;break;case c.down:this.focusY<this.map.length-1?this.focusY++:this.cycleY?(this.focusY=0,n=!0):t=!0;break;case c.right:this.focusX<this.map[this.focusY].length-1?this.focusX++:this.cycleX?(this.focusX=0,n=!0):t=!0;break;case c.left:this.focusX>0?this.focusX--:this.cycleX?(this.focusX=this.map[this.focusY].length-1,n=!0):t=!0}n&&this.emit("cycle",{direction:e}),t&&this.emit("overflow",{direction:e}),this.focusItem(this.map[this.focusY][this.focusX])||n||t||this.move(e)},i.prototype.focusItem=function(e){var t=this.$focusItem;if(void 0!==e&&t!==e){if(!(e instanceof Node))throw"wrong $item type";if(e.parentNode.parentNode.parentNode.parentNode!==this.$body)throw"wrong $item parent element";if(null!==t){if(!(t instanceof Node))throw"wrong $prev type";t.classList.remove("focus"),this.emit("blur:item",{$item:t})}return this.$focusItem=e,e.classList.add("focus"),this.emit("focus:item",{$prev:t,$curr:e}),!0}return!1},e.exports=i},function(e,t,n){/**
	 * @module stb/ui/modal.message
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function i(e){e=e||{},o.call(this,e),this.$node.classList.add("modalMessage"),this.$body.appendChild(a.tag("div",{className:"cell"},this.$header=a.tag("div",{className:"header"},this.constructor.name),this.$body=a.tag("div",{className:"content"},this.constructor.name),this.$footer=a.tag("div",{className:"footer"},this.constructor.name)))}var o=n(12),a=n(9);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){"use strict";var i="pageHelp",o=n(8),a=n(4),s=n(3),r=new o({$node:document.getElementById(i)});r.addListener("load",function(){r.add(r.back=new a({value:"go back",events:{click:function(){s.navigate("pageMain")}}}))}),r.addListener("show",function(){r.back.focus()}),e.exports=r},function(e,t,n){/**
	 * Loading page implementation.
	 *
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var i="pageInit",o=n(8),a=new o({$node:document.getElementById(i)});e.exports=a},function(e,t,n){"use strict";var i="pageMain",o=(n(7),n(12),n(18),n(1)),a=(n(4),n(10),n(13),n(11)),s=n(8),r=(n(3),n(5),new s({$node:document.getElementById(i)}));r.addListener("load",function(){{var e;new o({content:"a2"}),new o}e=[{value:"Panel",panel:n(29)},{value:"Button",panel:n(22)},{value:"CheckBox",panel:n(23)},{value:"Grid",panel:n(25)},{value:"List",panel:n(26)},{value:"ProgressBar",panel:n(30)},{value:"Page",panel:n(28)},{value:"Modal",panel:n(27)}],e.forEach(function(e){r.add(e.panel)}),r.add(r.menu=new a({$node:document.getElementById("pageMainMenu"),data:e,size:8,render:function(e,t){e.textContent=t.value},events:{click:function(){},focus:function(){},"click:item":function(){},"focus:item":function(e){e.$prev&&e.$prev.data.panel.hide(),e.$curr.data.panel.show()},"blur:item":function(){}}})),r.menu.focusItem(r.menu.$body.firstChild),r.focusable=!1}),r.addListener("show",function(){r.activeComponent||r.menu.focus()}),e.exports=r},function(e,t,n){"use strict";var i=n(4),o=n(1),a=new o({$node:document.getElementById("pageMainTabButton"),visible:!1});a.add(new o({$node:document.getElementById("pageMainTabButtonSimple"),children:[new i({value:"press me"})]}),new o({$node:document.getElementById("pageMainTabButtonIcon"),children:[new i({icon:"menu",value:"press me"})]})),e.exports=a},function(e,t,n){"use strict";var i=n(1),o=n(10),a=new i({$node:document.getElementById("pageMainTabCheckBox"),visible:!1});a.add(new i({$node:document.getElementById("pageMainTabCheckBoxSimple"),children:[new o]}),new i({$node:document.getElementById("pageMainTabCheckBoxGroup"),children:[new o({group:"main",value:!1}),new o({group:"main",value:!0}),new o({group:"main",value:!1}),new o({group:"main",value:!1})]})),e.exports=a},function(e){"use strict";e.exports={"table 1x1 with no merge":{raw:[[1]],check:[[1]]},"table 3x3 with no merge":{raw:[[1,2,3],[4,5,6],[7,8,9]],check:[[1,2,3],[4,5,6],[7,8,9]]},"table 3x3 with merge 2x2 #1":{raw:[[{value:"1;2;4;5",rowSpan:2,colSpan:2},3],[6],[7,8,9]],check:[["1;2;4;5","1;2;4;5",3],["1;2;4;5","1;2;4;5",6],[7,8,9]]},"table 3x3 with merge 2x2 #2":{raw:[[1,{value:"2;3;5;6",rowSpan:2,colSpan:2}],[4],[7,8,9]],check:[[1,"2;3;5;6","2;3;5;6"],[4,"2;3;5;6","2;3;5;6"],[7,8,9]]},"table 3x3 with merge 2x2 #3":{raw:[[1,2,3],[4,{value:"5;6;8;9",rowSpan:2,colSpan:2}],[7]],check:[[1,2,3],[4,"5;6;8;9","5;6;8;9"],[7,"5;6;8;9","5;6;8;9"]]},"table 3x3 with merge 2x2 #4":{raw:[[1,2,3],[{value:"4;5;7;8",rowSpan:2,colSpan:2},6],[9]],check:[[1,2,3],["4;5;7;8","4;5;7;8",6],["4;5;7;8","4;5;7;8",9]]},"table 3x3 with merge 3x1 #1":{raw:[[{value:"1;2;3",colSpan:3}],[4,5,6],[7,8,9]],check:[["1;2;3","1;2;3","1;2;3"],[4,5,6],[7,8,9]]},"table 3x3 with merge 3x1 #2":{raw:[[1,2,3],[{value:"4;5;6",colSpan:3}],[7,8,9]],check:[[1,2,3],["4;5;6","4;5;6","4;5;6"],[7,8,9]]},"table 3x3 with merge 3x1 #3":{raw:[[1,2,3],[4,5,6],[{value:"7;8;9",colSpan:3}]],check:[[1,2,3],[4,5,6],["7;8;9","7;8;9","7;8;9"]]},"table 3x3 with merge 1x3 #1":{raw:[[{value:"1;4;7",rowSpan:3},2,3],[5,6],[8,9]],check:[["1;4;7",2,3],["1;4;7",5,6],["1;4;7",8,9]]},"table 3x3 with merge 1x3 #2":{raw:[[1,{value:"2;5;8",rowSpan:3},3],[4,6],[7,9]],check:[[1,"2;5;8",3],[4,"2;5;8",6],[7,"2;5;8",9]]},"table 3x3 with merge 1x3 #3":{raw:[[1,2,{value:"3;6;9",rowSpan:3}],[4,5],[7,8]],check:[[1,2,"3;6;9"],[4,5,"3;6;9"],[7,8,"3;6;9"]]},"table 2x2 with all merged cells":{raw:[[{value:"1-4",rowSpan:2,colSpan:2}]],check:[["1-4","1-4"],["1-4","1-4"]]},"table 3x3 with all merged cells":{raw:[[{value:"1-9",rowSpan:3,colSpan:3}]],check:[["1-9","1-9","1-9"],["1-9","1-9","1-9"],["1-9","1-9","1-9"]]},"table 3x3 with horizontal stripes #1":{raw:[[{value:"1;2",colSpan:2},3],[4,{value:"5;6",colSpan:2}],[{value:"7;8",colSpan:2},9]],check:[["1;2","1;2",3],[4,"5;6","5;6"],["7;8","7;8",9]]},"table 3x3 with horizontal stripes #2":{raw:[[1,{value:"2;3",colSpan:2}],[{value:"4;5",colSpan:2},6],[7,{value:"8;9",colSpan:2}]],check:[[1,"2;3","2;3"],["4;5","4;5",6],[7,"8;9","8;9"]]},"table 3x3 with vertical stripes #1":{raw:[[{value:"1;4",rowSpan:2},2,{value:"3;6",rowSpan:2}],[{value:"5;8",rowSpan:2}],[7,9]],check:[["1;4",2,"3;6"],["1;4","5;8","3;6"],[7,"5;8",9]]},"table 3x3 with vertical stripes #2":{raw:[[1,{value:"2;5",rowSpan:2},3],[{value:"4;7",rowSpan:2},{value:"6;9",rowSpan:2}],[8]],check:[[1,"2;5",3],["4;7","2;5","6;9"],["4;7",8,"6;9"]]},"table 3x3 with spiral merge #1":{raw:[[{value:"1;2",rowSpan:1,colSpan:2},{value:"3;6",rowSpan:2,colSpan:1}],[{value:"4;7",rowSpan:2,colSpan:1},5],[{value:"8;9",rowSpan:1,colSpan:2}]],check:[["1;2","1;2","3;6"],["4;7",5,"3;6"],["4;7","8;9","8;9"]]},"table 3x3 with spiral merge #2":{raw:[[{value:"1;4",rowSpan:2,colSpan:1},{value:"2;3",rowSpan:1,colSpan:2}],[5,{value:"6;9",rowSpan:2,colSpan:1}],[{value:"7;8",rowSpan:1,colSpan:2}]],check:[["1;4","2;3","2;3"],["1;4",5,"6;9"],["7;8","7;8","6;9"]]},"table 5x5 with merge #1":{raw:[[1,2,3,4,5],[6,{value:"7-9",colSpan:3},10],[{value:"11;12;16;17",rowSpan:2,colSpan:2},13,14,{value:"15;20",rowSpan:2}],[18,19],[{value:"26-30",colSpan:5}],[{value:"31-40",colSpan:5,rowSpan:2}]],check:[[1,2,3,4,5],[6,"7-9","7-9","7-9",10],["11;12;16;17","11;12;16;17",13,14,"15;20"],["11;12;16;17","11;12;16;17",18,19,"15;20"],["26-30","26-30","26-30","26-30","26-30"],["31-40","31-40","31-40","31-40","31-40"],["31-40","31-40","31-40","31-40","31-40"]]},"table 5x5 with merge #2":{raw:[[1,2,3,4,{value:"5;10;15;20",rowSpan:4}],[6,{value:"7-9",colSpan:3}],[{value:"11;12;16;17",rowSpan:2,colSpan:2},13,14],[18,19],[{value:"21-25",colSpan:5}],[{value:"26-35",colSpan:5,rowSpan:2}]],check:[[1,2,3,4,"5;10;15;20"],[6,"7-9","7-9","7-9","5;10;15;20"],["11;12;16;17","11;12;16;17",13,14,"5;10;15;20"],["11;12;16;17","11;12;16;17",18,19,"5;10;15;20"],["21-25","21-25","21-25","21-25","21-25"],["26-35","26-35","26-35","26-35","26-35"],["26-35","26-35","26-35","26-35","26-35"]]},"table 4x2 with tricky long columns #1":{raw:[[{value:"1;3;5",rowSpan:3},2],[{value:"4;6;8",rowSpan:3}],[],[7]],check:[["1;3;5",2],["1;3;5","4;6;8"],["1;3;5","4;6;8"],[7,"4;6;8"]]},"table 4x2 with tricky long columns #2":{raw:[[1,{value:"2;4;6",rowSpan:3}],[{value:"3;5;7",rowSpan:3}],[],[8]],check:[[1,"2;4;6"],["3;5;7","2;4;6"],["3;5;7","2;4;6"],["3;5;7",8]]}}},function(e,t,n){"use strict";var i,o=n(1),a=n(4),s=n(17),r=n(24),c=new o({$node:document.getElementById("pageMainTabGrid"),visible:!1}),l=0;c.add(new a({$node:document.getElementById("pageMainTabGridBtnPrev"),value:"<< prev grid data",events:{click:function(){var e;l>0&&(l--,e=Object.keys(r)[l],i.parent.$node.children[0].innerText=e,i.init({data:r[e].raw}))}}}),new a({$node:document.getElementById("pageMainTabGridBtnNext"),value:"next grid data >>",events:{click:function(){var e;l<Object.keys(r).length-1&&(l++,e=Object.keys(r)[l],i.parent.$node.children[0].innerText=e,i.init({data:r[e].raw}))}}}),new a({$node:document.getElementById("pageMainTabGridBtnCycle"),value:"toggle cycle mode",events:{click:function(){i.init({cycleX:!i.cycleX,cycleY:!i.cycleY})}}}),new o({$node:document.getElementById("pageMainTabGridMain"),$body:document.getElementById("pageMainTabGridMainBody"),children:[i=new s({data:[[{value:1,disable:!0},2,3,4],[5,{value:6,disable:!0},7,8],[9,10,11,12],[13,14,15,{value:16,focus:!0}]],render:function(e,t){e.innerHTML="<div>"+t.value+"</div>"},cycleX:!1,cycleY:!1})]}),new o({$node:document.getElementById("pageMainTabGridJoin"),children:[new s({data:[[1,2,3,4,{value:"5;10;15;20",rowSpan:4,disable:!0}],[{value:6},{value:"7-9",colSpan:3,disable:!0}],[{value:"11;12;16;17",rowSpan:2,colSpan:2,disable:!0},13,14],[18,19],[{value:"21-25",colSpan:5}],[{value:"26-35",colSpan:5,rowSpan:2}]]})]})),e.exports=c},function(e,t,n){"use strict";var i=n(1),o=n(11),a=new i({$node:document.getElementById("pageMainTabList"),visible:!1});a.add(new i({$node:document.getElementById("pageMainTabListSimple"),children:[new o({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(e,t){return 1e4+e+t}),size:5,events:{click:function(){},focus:function(){},"click:item":function(){},"focus:item":function(){},"blur:item":function(){}}})]}),new i({$node:document.getElementById("pageMainTabListCustom"),children:[new o({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(e,t){return 1e4+e+t}),size:5,render:function(e,t){e.innerHTML="["+t+"]"},events:{click:function(){},focus:function(){},"click:item":function(){},"focus:item":function(){},"blur:item":function(){}}})]}),new i({$node:document.getElementById("pageMainTabListHoriz"),children:[new o({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(e,t){return"sequence: "+t+e}),type:o.prototype.TYPE_HORIZONTAL})]})),e.exports=a},function(e,t,n){"use strict";var i=n(4),o=n(1),a=n(7),s=new o({$node:document.getElementById("pageMainTabModal"),visible:!1});s.add(new i({value:"show modal window",events:{click:function(){s.add(s.modal=new a({events:{click:function(){s.modal.remove()}}})),s.modal.focus()}}})),e.exports=s},function(e,t,n){"use strict";var i=n(4),o=n(1),a=n(3),s=new o({$node:document.getElementById("pageMainTabPage"),visible:!1});s.add(new i({value:"switch to page Help",events:{click:function(){a.navigate("pageHelp")}}})),e.exports=s},function(e,t,n){"use strict";var i=n(1),o=new i({$node:document.getElementById("pageMainTabPanel"),visible:!1});o.add(new i({$node:document.getElementById("pageMainTabPanelSimple")}),new i({$node:document.getElementById("pageMainTabPanelMulti")}),new i({$node:document.getElementById("pageMainTabPanelParent"),children:[new i({$node:document.getElementById("pageMainTabPanelChild")})]})),e.exports=o},function(e,t,n){"use strict";var i=n(1),o=n(13),a=new i({$node:document.getElementById("pageMainTabProgressBar"),visible:!1});a.add(new i({$node:document.getElementById("pageMainTabProgressBarPanel"),children:[new o({min:-50,max:50,value:0,events:{keydown:function(e){e.code===keys.right&&pb.set(pb.value+1),e.code===keys.left&&pb.set(pb.value-1)},done:function(){},change:function(e){}}})]})),e.exports=a},function(e){/**
	 * Application geometry options for js/less.
	 *
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";e.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:28,availLeft:54},720:{height:720,width:1280,availTop:10,availBottom:10,availRight:10,availLeft:10},1080:{height:1080,width:1920,availTop:15,availBottom:15,availRight:15,availLeft:15}}}]);