!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(14),o=i(3),s=i(4);n.addListeners({load:function(){o.init([i(20),i(21),i(19)])},done:function(){o.navigate("pageMain")},keydown:function(t){t.code===s.back&&o.back()}})},function(t,e,i){/**
	 * @module stb/ui/panel
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){t=t||{},void 0===t.focusable&&(t.focusable=!1),o.call(this,t),this.$node.classList.add("panel")}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){/**
	 * @module stb/component
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){var e=this;if(this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.page=null,this.parent=null,this.children=[],t=t||{},"object"!=typeof t)throw"wrong config type";if(o.call(this,t.data),void 0!==t.$node){if(!(t.$node instanceof Node))throw"wrong config.$node type";this.$node=t.$node}else this.$node=document.createElement("div");if(void 0!==t.$body){if(!(t.$body instanceof Node))throw"wrong config.$body type";this.$body=t.$body}else this.$body=this.$node;if(void 0!==t.$content){if(!(t.$content instanceof Node))throw"wrong config.$content type";this.$body.appendChild(t.$content)}if(this.$node.classList.add("component"),void 0!==t.parent){if(!(t.parent instanceof n))throw"wrong config.parent type";t.parent.add(this)}if(t.visible===!1&&this.hide(),t.focusable===!1&&(this.focusable=!1),void 0!==t.events&&this.addListeners(t.events),this.id=t.id||this.$node.id||"id"+a++,t.children){if(!Array.isArray(t.children))throw"wrong config.children type";this.add.apply(this,t.children)}this.$node.addEventListener("click",function(t){0===t.button&&(e.focus(),e.emit("click",{event:t})),1===t.button,t.stopPropagation()}),this.$node.component=this.$body.component=this,this.$node.title="component "+this.constructor.name+"."+this.id+" (outer)",this.$body.title="component "+this.constructor.name+"."+this.id+" (inner)"}var o=i(6),s=i(3),a=0;n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++){if(t=arguments[e],!(t instanceof n))throw"wrong child type";this.children.push(t),t.parent=this,t.setPage(this.page),void 0!==t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),this.emit("add",{item:t})}},n.prototype.setPage=function(t){this.page=t,this.children.forEach(function(e){e.setPage(t)})},n.prototype.remove=function(){var t=s.current;if(this.parent){if(!(this.parent instanceof n))throw"wrong this.parent type";t.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)}this.children.forEach(function(t){if(!(t instanceof n))throw"wrong child type";t.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.emit("remove")},n.prototype.focus=function(){var t=s.current,e=t.activeComponent;if(this.page!==t)throw"attempt to focus an invisible component";return this.focusable&&this!==e?(e&&e.blur(),t.activeComponent=e=this,e.$node.classList.add("focus"),e.emit("focus"),!0):!1},n.prototype.blur=function(){var t=s.current,e=t.activeComponent;return this===e?(this.$node.classList.remove("focus"),t.activeComponent=null,this.emit("blur"),!0):!1},n.prototype.show=function(){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.emit("show"),!0)},n.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.emit("hide"),!0):!0},t.exports=n},function(t,e,i){/**
	 * Page navigation with history.
	 *
	 * @module stb/router
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var n,o=i(6);n=new o,n.current=null,n.history=[],n.pages=[],n.ids={},n.init=function(t){var e,i,n;if(void 0!==t){if(!Array.isArray(t))throw"wrong pages type";for(this.pages=[],this.pages=t,e=0,i=t.length;i>e;e++)n=t[e],this.ids[n.id]=n,n.active&&(this.current=n);return this.emit("init",{pages:t}),!0}return!1},n.parse=function(t){var e={name:"",data:[]};return e.data=t.split("/").map(decodeURIComponent),e.name=e.data.shift().slice(1),e},n.stringify=function(t,e){return e=Array.isArray(e)?e:[],t=encodeURIComponent(t),e=e.map(encodeURIComponent),e.unshift(t),e.join("/")},n.show=function(t,e){return t&&!t.active?(t.$node.classList.add("active"),t.active=!0,this.current=t,t.emit("show",{page:t,data:e}),!0):!1},n.hide=function(t){return t&&t.active?(t.$node.classList.remove("active"),t.active=!1,this.current=null,t.emit("hide",{page:t}),!0):!1},n.navigate=function(t,e){var i=this.current,n=this.ids[t];if(!n||"object"!=typeof n)throw"wrong pageTo type";if(!("active"in n))throw'missing field "active" in pageTo';return n&&!n.active?(location.hash=this.stringify(t,e),this.hide(this.current),this.show(n,e),this.emit("navigate",{from:i,to:n}),this.history.push(n),!0):!1},n.back=function(){var t,e;return this.history.length>1&&(t=this.history.pop(),e=this.history[this.history.length-1],e&&!e.active)?(location.hash=e.id,this.hide(this.current),this.show(e),this.emit("navigate",{from:t,to:e}),!0):!1},t.exports=n},function(t){/**
	 * Global list of key codes.
	 *
	 *  Value | Description
	 * -------|-------------
	 *  +1000 | shift key pressed
	 *  +2000 | alt key pressed
	 *
	 * @module stb/keys
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";t.exports={back:8,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,num0:48,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(t,e,i){/**
	 * @module stb/ui/button
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){var e=this;t=t||{},o.call(this,t),this.$node.classList.add("button"),this.$body.innerText=void 0!==t.value?t.value:this.constructor.name+"."+this.id,t.icon&&(e.$node.classList.add("icon"),e.$node.classList.add("icon-"+t.icon)),this.addListener("keydown",function(t){13===t.code&&e.emit("click",{event:t})}),this.addListener("click",function(){e.$node.classList.add("click"),setTimeout(function(){e.$node.classList.remove("click")},200)})}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t){/**
	 * @module stb/emitter
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function e(){this.events={}}e.prototype={addListener:function(t,e){if(2!==arguments.length)throw"wrong arguments number";if("string"!=typeof t||0===t.length)throw"wrong or empty name";if("function"!=typeof e)throw"wrong callback type";t&&"function"==typeof e&&(this.events[t]=this.events[t]||[],this.events[t].push(e))},once:function(t,e){var i=this;if(2!==arguments.length)throw"wrong arguments number";if("string"!=typeof t||0===t.length)throw"wrong or empty name";if("function"!=typeof e)throw"wrong callback type";t&&"function"==typeof e&&(this.events[t]=this.events[t]||[],this.events[t].push(function n(o){e(o),i.removeListener(t,n)}))},addListeners:function(t){var e;if(1!==arguments.length)throw"wrong arguments number";if("object"!=typeof t)throw"wrong callbacks type";if(0===Object.keys(t).length)throw"no callbacks given";if("object"==typeof t)for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){if(2!==arguments.length)throw"wrong arguments number";if("string"!=typeof t||0===t.length)throw"wrong or empty name";if("function"!=typeof e)throw"wrong callback type";Array.isArray(this.events[t])&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&delete this.events[t])},removeAllListeners:function(t){if(0!==arguments.length&&("string"!=typeof t||0===t.length))throw"wrong or empty name";if(0===arguments.length)this.events={};else if(t){if(void 0!==this.events[t])throw"event is not removed";delete this.events[t]}},emit:function(t,e){var i,n=this.events[t];if(arguments.length<1)throw"wrong arguments number";if("string"!=typeof t||0===t.length)throw"wrong or empty name";if(void 0!==n){if(!Array.isArray(n))throw"wrong event type";for(i=0;i<n.length;i++){if("function"!=typeof n[i])throw"wrong event callback type";n[i](e)}}}},t.exports=e},function(t,e,i){/**
	 * @module stb/ui/modal
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){t=t||{},o.call(this,t),this.$node.classList.add("modal")}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){/**
	 * @module stb/ui/page
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){this.active=!1,this.activeComponent=null,t=t||{},o.call(this,t),this.$node.classList.add("page"),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t){/**
	 * HTML elements low-level handling.
	 *
	 * @module stb/dom
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var e={};e.tag=function(t,e){var i,n,o=null;if(t){if(o=document.createElement(t),e&&"object"==typeof e)for(n in e)o[n]=e[n];for(i=2;i<arguments.length;i++)arguments[i]&&o.appendChild("object"==typeof arguments[i]?arguments[i]:document.createTextNode(arguments[i]))}return o},e.fragment=function(t){var e,i=document.createDocumentFragment();for(e=0;e<arguments.length;e++)t=arguments[e],t&&i.appendChild("object"==typeof t?t:document.createTextNode(t));return i},e.add=function(t){var e;if(t instanceof Node){for(e=1;e<arguments.length;e++)arguments[e]&&t.appendChild("object"==typeof arguments[e]?arguments[e]:document.createTextNode(arguments[e]));return t}return null},e.remove=function(){var t,e=0;for(t=0;t<arguments.length;t++)arguments[t]&&arguments[t].parentNode&&arguments[t].parentNode.removeChild(arguments[t])===arguments[t]&&e++;return arguments.length>0&&e===arguments.length},t.exports=e},function(t,e,i){/**
	 * @module stb/ui/check.box
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){var e=this;if(t=t||{},this.value=!!t.value,this.group=null,o.call(this,t),this.$node.classList.add("checkBox"),this.value&&this.$node.classList.add("checked"),void 0!==t.group){if("string"!=typeof t.group||0===t.group.length)throw"wrong or empty config.group";this.group=t.group,void 0===a[t.group]?a[t.group]=[this]:a[t.group].push(this)}this.addListeners({click:function(){e.set(!e.value)},keydown:function(t){t.code===s.ok&&e.set(!e.value)}})}var o=i(2),s=i(4),a={};n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.set=function(t){var e,i;if(this.value!==t){if(!this.value&&null!==this.group)for(e=0,i=a[this.group].length;i>e;e++)a[this.group][e].set(!1);return this.value=!this.value,this.$node.classList.toggle("checked"),this.emit("change",{value:this.value}),!0}return!1},t.exports=n},function(t,e,i){/**
	 * @module stb/ui/list
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){var e=this;if(this.$focusItem=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.render=this.defaultRender,t=t||{},o.call(this,t),void 0!==t.type){if(Number(t.type)!==t.type)throw"config.type must be a number";this.type=t.type}this.$node.classList.add("list"),this.type===this.TYPE_HORIZONTAL&&this.$node.classList.add("horizontal"),this.init(t),this.addListener("keydown",function(t){t.code===s.ok&&e.emit("click:item",{$item:e.$focusItem,event:t}),(t.code===s.up&&e.type===e.TYPE_VERTICAL||t.code===s.left&&e.type===e.TYPE_HORIZONTAL)&&e.$focusItem.index>0&&(e.focusPrev()||(e.$body.insertBefore(e.$body.lastChild,e.$body.firstChild),e.render(e.$body.firstChild,e.data[e.$focusItem.index-1]),e.$body.firstChild.index=e.$focusItem.index-1,e.focusPrev())),(t.code===s.down&&e.type===e.TYPE_VERTICAL||t.code===s.right&&e.type===e.TYPE_HORIZONTAL)&&e.$focusItem.index<e.data.length-1&&(e.focusNext()||(e.$body.appendChild(e.$body.firstChild),e.render(e.$body.lastChild,e.data[e.$focusItem.index+1]),e.$body.lastChild.index=e.$focusItem.index+1,e.focusNext())),t.code===s.pageUp&&e.focusItem(e.$body.firstChild),t.code===s.pageDown&&e.focusItem(e.$body.lastChild)}),this.$body.addEventListener("mousewheel",function(t){var i=t.wheelDeltaY>0;e.emit("keydown",{code:i?s.up:s.down})})}var o=i(2),s=i(4);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.defaultRender=function(t,e){t.innerText=e},n.prototype.init=function(t){var e,i,n=this,o=this.$body.children.length,s=function(t){void 0!==this.data&&(n.focusItem(this),n.emit("click:item",{$item:this,event:t}))};if(void 0!==t.data){if(!Array.isArray(t.data))throw"wrong config.data type";this.data=t.data}if(void 0!==t.render){if("function"!=typeof t.render)throw"wrong config.render type";this.render=t.render}if(void 0!==t.size){if(Number(t.size)!==t.size)throw"config.size must be a number";if(t.size<=0)throw"config.size should be positive";this.size=t.size}if(this.size!==o)for(o>0&&(this.$body.innerText=null),i=0;i<this.size;i++)e=document.createElement("div"),e.index=i,e.className="item",e.addEventListener("click",s),this.$body.appendChild(e);this.renderPage()},n.prototype.moveNext=function(){},n.prototype.movePrev=function(){},n.prototype.renderPage=function(){var t,e;for(e=0;e<this.size;e++)t=this.$body.children[e],void 0!==t.index&&void 0!==this.data[t.index]&&(t.data=this.data[t.index],this.render(t,this.data[t.index]))},n.prototype.focusItem=function(t){var e=this.$focusItem;if(void 0!==t&&e!==t){if(!(t instanceof Node))throw"wrong $item type";if(t.parentNode!==this.$body)throw"wrong $item parent element";if(null!==e){if(!(e instanceof Node))throw"wrong $prev type";e.classList.remove("focus"),this.emit("blur:item",{$item:e})}return this.$focusItem=t,this.$focusItem.data=this.data[this.$focusItem.index],t.classList.add("focus"),this.emit("focus:item",{$prev:e,$curr:t}),!0}return!1},n.prototype.focusNext=function(){return this.$focusItem!==this.$body.lastChild?this.focusItem(this.$focusItem.nextSibling):!1},n.prototype.focusPrev=function(){return this.$focusItem!==this.$body.firstChild?this.focusItem(this.$focusItem.previousSibling):!1},t.exports=n},function(t,e,i){/**
	 * @module stb/ui/modal.box
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){var e;t=t||{},o.call(this,t),this.$node.classList.add("modalBox"),e=this.$body,e.appendChild(s.tag("div",{className:"cell"},this.$body=s.tag("div",{className:"content"},"qwe")))}var o=i(7),s=i(9);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){/**
	 * @module stb/ui/progress.bar
	 * @author Igor Zaporozhets <deadbyelpy@gmail.com>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){t=t||{},this.max=100,this.min=0,this.value=0,this.step=1,void 0===t.focusable&&(t.focusable=!1),o.call(this,t),this.$node===this.$body&&(this.$body=this.$node.appendChild(document.createElement("div"))),this.$node.classList.add("progressBar"),this.$body.classList.add("value"),this.init(t)}var o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.set=function(t){var e=this.value;if(this.value!==t&&t<=this.max&&t>=this.min){if(Number(t)!==t)throw"value must be a number";return this.value=t,t=Math.abs(this.value-this.min)/this.step,100===t&&this.emit("done"),this.$body.style.width=t+"%",this.emit("change",{curr:this.value,prev:e}),!0}return!1},n.prototype.init=function(t){if(void 0!==t.max){if(Number(t.max)!==t.max)throw"config.max value must be a number";this.max=t.max}if(void 0!==t.min){if(Number(t.min)!==t.min)throw"config.min value must be a number";this.min=t.min}if(void 0!==t.value){if(Number(t.value)!==t.value)throw"config.value must be a number";if(t.value>this.max)throw"config.value more than config.maximum";if(t.value<this.min)throw"config.value less than config.minimum";this.value=t.value}this.step=Math.abs(this.max-this.min)/100,this.$body.style.width=Math.abs(this.min-this.value)/this.step+"%"},t.exports=n},function(t,e,i){/**
	 * @module stb/app
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var n,o,s=i(15),a=i(3);i(16),n=new s({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),n.setScreen=function(t){return t?(t.availHeight=t.height-(t.availTop+t.availBottom),t.availWidth=t.width-(t.availLeft+t.availRight),window.moveTo(0,0),window.resizeTo(t.width,t.height),o&&o instanceof Node&&document.head.removeChild(o),o=document.createElement("link"),o.rel="stylesheet",o.href="css/"+t.height+".css",document.head.appendChild(o),this.data.screen=t,!0):!1},n.setScreen(i(30)[screen.height]),window.addEventListener("load",function(t){var e;n.data.time.load=t.timeStamp,n.emit(t.type,t),a.pages.forEach(function(e){e.emit(t.type,t)}),location.hash&&(e=a.parse(location.hash),a.navigate(e.name,e.data)),n.data.time.done=+new Date,n.emit("done",t)}),window.addEventListener("unload",function(t){a.pages.forEach(function(e){e.emit(t.type,t)})}),window.addEventListener("error",function(t){}),window.addEventListener("keydown",function(t){var e=a.current;0!==t.keyCode&&(t.code=t.keyCode,t.shiftKey&&(t.code+=1e3),t.altKey&&(t.code+=2e3),e&&(e.activeComponent&&e.activeComponent!==e&&e.activeComponent.emit(t.type,t),t.stop||e.emit(t.type,t)),t.stop||n.emit(t.type,t))}),window.addEventListener("click",function(t){}),window.addEventListener("contextmenu",function(t){n.data.debug||t.preventDefault()}),t.exports=n},function(t,e,i){/**
	 * @module stb/model
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){if(void 0!==t&&"object"!=typeof t)throw"wrong data type";o.call(this),this.data=t||{}}var o=i(6);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.idName="id",n.prototype.clear=function(){var t=this.data;if("object"!=typeof t)throw"wrong data type";return Object.keys(t).length>0?(this.data={},this.emit("clear",{data:t}),!0):!1},n.prototype.init=function(t){if("object"!=typeof t)throw"wrong data type";return t?(this.clear(),this.data=t,this.emit("init",{data:t}),!0):!1},n.prototype.has=function(t){if("object"!=typeof this.data)throw"wrong this.data type";return this.data.hasOwnProperty(t)},n.prototype.get=function(t){if("object"!=typeof this.data)throw"wrong this.data type";return this.data[t]},n.prototype.set=function(t,e){var i=t in this.data,n={name:t,curr:e};if("object"!=typeof this.data)throw"wrong this.data type";return i?(n.prev=this.data[t],e!==n.prev?(this.data[t]=e,this.emit("change",n),!0):!1):(this.data[t]=e,this.emit("change",n),!0)},n.prototype.unset=function(t){var e,i=t in this.data;if("object"!=typeof this.data)throw"wrong this.data type";return i?(e={name:t,prev:this.data[t]},delete this.data[t],this.emit("change",e),!0):!1},t.exports=n},function(){/**
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";if(!("classList"in document.documentElement)){var t=Array.prototype,e=t.indexOf,i=t.slice,n=t.push,o=t.splice,s=t.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<i.length;e++)n.call(this,i[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(n.call(this,t),this._element.className=i.call(this,0).join(" "))},contains:function(t){return-1!==e.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var n=e.call(this,t);-1!==n&&(o.call(this,n,1),this._element.className=i.call(this,0).join(" "))},toString:function(){return s.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e,i){/**
	 * @module stb/ui/grid
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){var e=this;this.cells=[],this.$focusItem=null,this.data=[],this.render=this.defaultRender,this.cycleX=!1,this.cycleY=!0,t=t||{},o.call(this,t),this.$node.classList.add("grid"),this.$body=document.createElement("table"),this.$node.appendChild(this.$body),this.init(t),this.addListener("keydown",function(t){switch(t.code){case s.up:case s.down:case s.right:case s.left:e.move(t.code);break;case s.ok:e.emit("click:item",{$item:e.$focusItem,event:t})}}),this.$body.addEventListener("mousewheel",function(t){t.wheelDeltaY&&e.move(t.wheelDeltaY>0?s.up:s.down),t.wheelDeltaX&&e.move(t.wheelDeltaX>0?s.left:s.right)})}var o=i(2),s=i(4);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.defaultRender=function(t,e){t.innerText=e},n.prototype.init=function(t){var e,i,n,o,s,a,r=this,c=function(t){r.focusItem(this),r.emit("click:item",{$item:this,event:t})};if("object"!=typeof t)throw"wrong config type";if(void 0!==t.data){if(!Array.isArray(t.data))throw"wrong config.data type";this.data=t.data}if(void 0!==t.render){if("function"!=typeof t.render)throw"wrong config.render type";this.render=t.render}if(this.$body.appendChild(s=document.createElement("tbody")),!Array.isArray(this.data)||!Array.isArray(this.data[0]))throw"wrong this.data";for(this.cells=[],e=0;e<this.data.length;e++){for(n=s.insertRow(),this.cells.push([]),i=0;i<this.data[e].length;i++)o=n.insertCell(-1),o.x=i,o.y=e,o.className="cell",o.data=a=this.data[e][i],"object"==typeof a?(o.innerText=a.value,o.colSpan=a.colSpan||1,o.rowSpan=a.rowSpan||1):o.innerText=a,this.cells[e][i]=o,o.addEventListener("click",c);s.appendChild(n)}this.$focusItem=this.$body.rows[0].cells[0],this.$body.rows[0].cells[0].classList.add("focus")},n.prototype.move=function(t){{var e=this.$focusItem.x,i=this.$focusItem.y;this.$focusItem,this.$focusItem.parentNode}switch(t){case s.up:this.cells[i-1]?this.focusItem(this.cells[i-1][e]):this.cycleY&&this.focusItem(this.cells[this.cells.length-1][e]);break;case s.down:this.cells[i+1]?this.focusItem(this.cells[i+1][e]):this.cycleY&&this.focusItem(this.cells[0][e]);break;case s.right:this.cells[i][e+1]?this.focusItem(this.cells[i][e+1]):this.cycleY&&this.focusItem(this.cells[i][0]);break;case s.left:this.cells[i][e-1]?this.focusItem(this.cells[i][e-1]):this.cycleY&&this.focusItem(this.cells[i][this.cells[i].length-1])}},n.prototype.focusItem=function(t){var e=this.$focusItem;if(void 0!==t&&e!==t){if(!(t instanceof Node))throw"wrong $item type";if(t.parentNode.parentNode.parentNode!==this.$body)throw"wrong $item parent element";if(null!==e){if(!(e instanceof Node))throw"wrong $prev type";e.classList.remove("focus"),this.emit("blur:item",{$item:e})}return this.$focusItem=t,this.$focusItem.data=this.data[t.y][t.x],t.classList.add("focus"),this.emit("focus:item",{$prev:e,$curr:t}),!0}return!1},t.exports=n},function(t,e,i){/**
	 * @module stb/ui/modal.message
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";function n(t){t=t||{},o.call(this,t),this.$node.classList.add("modalMessage"),this.$body.appendChild(s.tag("div",{className:"cell"},this.$header=s.tag("div",{className:"header"},this.constructor.name),this.$body=s.tag("div",{className:"content"},this.constructor.name),this.$footer=s.tag("div",{className:"footer"},this.constructor.name)))}var o=i(12),s=i(9);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.exports=n},function(t,e,i){"use strict";var n="pageHelp",o=i(8),s=i(5),a=i(3),r=new o({$node:document.getElementById(n)});r.addListener("load",function(){r.add(r.back=new s({value:"go back",events:{click:function(){a.navigate("pageMain")}}}))}),r.addListener("show",function(){r.back.focus()}),t.exports=r},function(t,e,i){/**
	 * Loading page implementation.
	 *
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";var n="pageInit",o=i(8),s=new o({$node:document.getElementById(n)});t.exports=s},function(t,e,i){"use strict";var n="pageMain",o=(i(7),i(12),i(18),i(1)),s=(i(5),i(10),i(13),i(11)),a=i(8),r=(i(3),i(4),new a({$node:document.getElementById(n)}));r.addListener("load",function(){{var t;new o({content:"a2"}),new o}t=[{value:"Panel",panel:i(28)},{value:"Button",panel:i(22)},{value:"CheckBox",panel:i(23)},{value:"Grid",panel:i(24)},{value:"List",panel:i(25)},{value:"ProgressBar",panel:i(29)},{value:"Page",panel:i(27)},{value:"Modal",panel:i(26)}],t.forEach(function(t){r.add(t.panel)}),r.add(r.menu=new s({$node:document.getElementById("pageMainMenu"),data:t,size:8,render:function(t,e){t.textContent=e.value},events:{click:function(){},focus:function(){},"click:item":function(){},"focus:item":function(t){t.$prev&&t.$prev.data.panel.hide(),t.$curr.data.panel.show()},"blur:item":function(){}}})),r.menu.focusItem(r.menu.$body.firstChild),r.focusable=!1}),r.addListener("show",function(){r.activeComponent||r.menu.focus()}),t.exports=r},function(t,e,i){"use strict";var n=i(5),o=i(1),s=new o({$node:document.getElementById("pageMainTabButton"),visible:!1});s.add(new o({$node:document.getElementById("pageMainTabButtonSimple"),children:[new n({value:"press me"})]}),new o({$node:document.getElementById("pageMainTabButtonIcon"),children:[new n({icon:"menu",value:"press me"})]})),t.exports=s},function(t,e,i){"use strict";var n=i(1),o=i(10),s=new n({$node:document.getElementById("pageMainTabCheckBox"),visible:!1});s.add(new n({$node:document.getElementById("pageMainTabCheckBoxSimple"),children:[new o]}),new n({$node:document.getElementById("pageMainTabCheckBoxGroup"),children:[new o({group:"main",value:!1}),new o({group:"main",value:!0}),new o({group:"main",value:!1}),new o({group:"main",value:!1})]})),t.exports=s},function(t,e,i){"use strict";var n=i(1),o=i(17),s=new n({$node:document.getElementById("pageMainTabGrid"),visible:!1});s.add(new n({$node:document.getElementById("pageMainTabGridSimple"),children:[new o({data:[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,16]],render:function(t,e){t.innerHTML="["+e+"]"}})]}),new n({$node:document.getElementById("pageMainTabGridJoin"),children:[new o({data:[[1,2,3,4,5],[6,{value:"7 ... 9",colSpan:3},10],[{value:"11\n21",rowSpan:2},12,13,14,{value:"15\n25",rowSpan:2}],[22,23,24],[{value:"26 ... 30",colSpan:5}]],render:function(t,e){t.innerHTML="["+e+"]"}})]})),t.exports=s},function(t,e,i){"use strict";var n=i(1),o=i(11),s=new n({$node:document.getElementById("pageMainTabList"),visible:!1});s.add(new n({$node:document.getElementById("pageMainTabListSimple"),children:[new o({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(t,e){return 1e4+t+e}),size:5,events:{click:function(){},focus:function(){},"click:item":function(){},"focus:item":function(){},"blur:item":function(){}}})]}),new n({$node:document.getElementById("pageMainTabListCustom"),children:[new o({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(t,e){return 1e4+t+e}),size:5,render:function(t,e){t.innerHTML="["+e+"]"},events:{click:function(){},focus:function(){},"click:item":function(){},"focus:item":function(){},"blur:item":function(){}}})]}),new n({$node:document.getElementById("pageMainTabListHoriz"),children:[new o({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(t,e){return"sequence: "+e+t}),type:o.prototype.TYPE_HORIZONTAL})]})),t.exports=s},function(t,e,i){"use strict";var n=i(5),o=i(1),s=i(7),a=new o({$node:document.getElementById("pageMainTabModal"),visible:!1});a.add(new n({value:"show modal window",events:{click:function(){a.add(a.modal=new s({events:{click:function(){a.modal.remove()}}})),a.modal.focus()}}})),t.exports=a},function(t,e,i){"use strict";var n=i(5),o=i(1),s=i(3),a=new o({$node:document.getElementById("pageMainTabPage"),visible:!1});a.add(new n({value:"switch to page Help",events:{click:function(){s.navigate("pageHelp")}}})),t.exports=a},function(t,e,i){"use strict";var n=i(1),o=new n({$node:document.getElementById("pageMainTabPanel"),visible:!1});o.add(new n({$node:document.getElementById("pageMainTabPanelSimple")}),new n({$node:document.getElementById("pageMainTabPanelMulti")}),new n({$node:document.getElementById("pageMainTabPanelParent"),children:[new n({$node:document.getElementById("pageMainTabPanelChild")})]})),t.exports=o},function(t,e,i){"use strict";var n=i(1),o=i(13),s=new n({$node:document.getElementById("pageMainTabProgressBar"),visible:!1});s.add(new n({$node:document.getElementById("pageMainTabProgressBarPanel"),children:[new o({min:-50,max:50,value:0,events:{keydown:function(t){t.code===keys.right&&pb.set(pb.value+1),t.code===keys.left&&pb.set(pb.value-1)},done:function(){},change:function(t){}}})]})),t.exports=s},function(t){/**
	 * Application geometry options for js/less.
	 *
	 * @author Stanislav Kalashnik <sk@infomir.eu>
	 * @license GNU GENERAL PUBLIC LICENSE Version 3
	 */
"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:28,availLeft:54},720:{height:720,width:1280,availTop:10,availBottom:10,availRight:10,availLeft:10},1080:{height:1080,width:1920,availTop:15,availBottom:15,availRight:15,availLeft:15}}}]);