/*! stb-demo: v0.0.4 (stb: v0.4.6, webpack: v1.4.15) */
!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var n=i(9),s=i(5),a=i(3);n.addListeners({load:function(){s.init([i(20),i(21),i(19)])},done:function(){s.navigate("pageMain")},keydown:function(e){e.code===a.back&&s.back()}})},function(e,t,i){"use strict";function n(e){var t=this;this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],e=e||{},s.call(this,e.data),this.$node=void 0!==e.$node?e.$node:document.createElement("div"),this.$body=void 0!==e.$body?e.$body:this.$node,void 0!==e.$content&&this.$body.appendChild(e.$content),this.$node.classList.add("component"),void 0!==e.parent&&e.parent.add(this),e.visible===!1&&this.hide(),e.focusable===!1&&(this.focusable=!1),void 0!==e.events&&this.addListeners(e.events),this.id=e.id||this.$node.id||"id"+o++,e.children&&this.add.apply(this,e.children),this.$node.addEventListener("click",function(e){0===e.button&&(t.focus(),void 0!==t.events.click&&t.emit("click",{event:e})),e.stopPropagation()})}var s=i(6),a=i(5),o=0;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.add=function(e){var t;for(t=0;t<arguments.length;t++)e=arguments[t],this.children.push(e),e.parent=this,void 0!==e.$node&&null===e.$node.parentNode&&this.$body.appendChild(e.$node),void 0!==this.events.add&&this.emit("add",{item:e})},n.prototype.remove=function(){var e=a.current;this.parent&&(e.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(e){e.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),void 0!==this.events.remove&&this.emit("remove")},n.prototype.focus=function(){var e=a.current,t=e.activeComponent;return this.focusable&&this!==t?(t&&t.blur(),e.activeComponent=t=this,t.$node.classList.add("focus"),void 0!==t.events.focus&&t.emit("focus"),!0):!1},n.prototype.blur=function(){var e=a.current,t=e.activeComponent;return this===t?(this.$node.classList.remove("focus"),e.activeComponent=null,void 0!==this.events.blur&&this.emit("blur"),!0):!1},n.prototype.show=function(){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,void 0!==this.events.show&&this.emit("show"),!0)},n.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,void 0!==this.events.hide&&this.emit("hide"),!0):!0},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},e.focusable=e.focusable||!1,s.call(this,e),this.$node.classList.add("panel")}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e){"use strict";e.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(e,t,i){"use strict";function n(e){var t=this;e=e||{},s.call(this,e),this.$node.classList.add("button"),this.$node===this.$body&&(e.icon&&(this.$icon=this.$node.appendChild(document.createElement("div")),this.$icon.className="icon "+e.icon),void 0!==e.value&&(this.$body=this.$node.appendChild(document.createElement("div")),this.$body.classList.add("text"),this.$body.innerText=e.value)),this.addListener("keydown",function(e){13===e.code&&void 0!==t.events.click&&t.emit("click",{event:e})}),this.addListener("click",function(){t.$node.classList.add("click"),setTimeout(function(){t.$node.classList.remove("click")},200)})}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";var n,s=i(6);n=new s,n.current=null,n.history=[],n.pages=[],n.ids={},n.init=function(e){var t,i,n;if(void 0!==e){for(this.pages=[],this.pages=e,t=0,i=e.length;i>t;t++)n=e[t],this.ids[n.id]=n,n.active&&(this.current=n);return void 0!==this.events.init&&this.emit("init",{pages:e}),!0}return!1},n.parse=function(e){var t={name:"",data:[]};return t.data=e.split("/").map(decodeURIComponent),t.name=t.data.shift().slice(1),t},n.stringify=function(e,t){return t=Array.isArray(t)?t:[],e=encodeURIComponent(e),t=t.map(encodeURIComponent),t.unshift(e),t.join("/")},n.show=function(e,t){return e&&!e.active?(e.$node.classList.add("active"),e.active=!0,this.current=e,void 0!==e.events.show&&e.emit("show",{page:e,data:t}),!0):!1},n.hide=function(e){return e&&e.active?(e.$node.classList.remove("active"),e.active=!1,this.current=null,void 0!==e.events.hide&&e.emit("hide",{page:e}),!0):!1},n.navigate=function(e,t){var i=this.current,n=this.ids[e];return n&&!n.active?(location.hash=this.stringify(e,t),this.hide(this.current),this.show(n,t),void 0!==this.events.navigate&&this.emit("navigate",{from:i,to:n}),this.history.push(n),!0):!1},n.back=function(){var e,t;return this.history.length>1&&(e=this.history.pop(),t=this.history[this.history.length-1],t&&!t.active)?(location.hash=t.id,this.hide(this.current),this.show(t),void 0!==this.events.navigate&&this.emit("navigate",{from:e,to:t}),!0):!1},e.exports=n},function(e){"use strict";function t(){this.events={}}t.prototype={addListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},once:function(e,t){var i=this;this.events[e]=this.events[e]||[],this.events[e].push(function n(s){t(s),i.removeListener(e,n)})},addListeners:function(e){var t;if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,t){void 0!==this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}),0===this.events[e].length&&(this.events[e]=void 0))},removeAllListeners:function(e){0===arguments.length?this.events={}:e&&(this.events[e]=void 0)},emit:function(e,t){var i,n=this.events[e];if(void 0!==n)for(i=0;i<n.length;i++)n[i].call(this,t)}},e.exports=t},function(e,t,i){"use strict";function n(e){this.active=!1,this.activeComponent=null,e=e||{},s.call(this,e),this.$node.classList.add("page"),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e){var t=this;this.$focusItem=null,this.indexView=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,e=e||{},a.call(this,e),void 0!==e.type&&(this.type=e.type),this.$node.classList.add("list"),this.type===this.TYPE_HORIZONTAL&&this.$node.classList.add("horizontal"),this.init(e),this.addListener("keydown",function(e){switch(e.code){case o.up:case o.down:case o.right:case o.left:case o.pageUp:case o.pageDown:case o.home:case o.end:t.move(e.code);break;case o.ok:void 0!==t.events["click:item"]&&t.emit("click:item",{$item:t.$focusItem,event:e})}}),this.$body.addEventListener("mousewheel",function(e){t.type===t.TYPE_VERTICAL&&e.wheelDeltaY&&t.move(e.wheelDeltaY>0?o.up:o.down),t.type===t.TYPE_HORIZONTAL&&e.wheelDeltaX&&t.move(e.wheelDeltaX>0?o.left:o.right)})}function s(e){var t,i;for(t=0;t<e.length;t++)i=e[t],"object"!=typeof i&&(i=e[t]={value:e[t]});return e}var a=i(1),o=i(3);n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.init=function(e){var t,i,n=this,a=this.$body.children.length,o=function(e){void 0!==this.data&&(n.focusItem(this),void 0!==n.events["click:item"]&&n.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycle&&(this.cycle=e.cycle),void 0!==e.data&&(this.data=s(e.data)),void 0!==e.render&&(this.renderItem=e.render),void 0!==e.size&&(this.size=e.size),this.size!==a)for(a>0&&(this.$body.innerText=null),i=0;i<this.size;i++)t=document.createElement("div"),t.index=i,t.className="item",t.addEventListener("click",o),this.$body.appendChild(t);this.renderView(0)},n.prototype.renderView=function(e){var t,i,n,s,a;if(this.indexView!==e){for(s=this.indexView,this.indexView=a=e,i=0;i<this.size;i++)t=this.$body.children[i],n=this.data[e],void 0!==n?(t.data=n,t.index=e,this.renderItem(t,n),n.mark?t.classList.add("mark"):t.classList.remove("mark")):(t.data=t.index=void 0,t.innerHTML="&nbsp;"),e++;return void 0!==this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:a}),!0}return!1},n.prototype.move=function(e){(e===o.up&&this.type===this.TYPE_VERTICAL||e===o.left&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.indexView-1):this.focusItem(this.$focusItem.previousSibling):this.cycle?(this.move(o.end),void 0!==this.events.cycle&&this.emit("cycle",{direction:e})):void 0!==this.events.overflow&&this.emit("overflow",{direction:e})),(e===o.down&&this.type===this.TYPE_VERTICAL||e===o.right&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.indexView+1):this.focusItem(this.$focusItem.nextSibling):this.cycle?(this.move(o.home),void 0!==this.events.cycle&&this.emit("cycle",{direction:e})):void 0!==this.events.overflow&&this.emit("overflow",{direction:e})),e===o.pageUp&&(this.renderView(this.indexView<this.size?0:this.indexView-this.size+1),this.focusItem(this.$body.firstChild)),e===o.pageDown&&(this.data.length>this.size?(this.renderView(this.indexView>this.data.length-2*this.size?this.data.length-this.size:this.indexView+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])),e===o.home&&(this.renderView(0),this.focusItem(this.$body.firstChild)),e===o.end&&(this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]))},n.prototype.focusItem=function(e){var t=this.$focusItem;return void 0!==e&&t!==e?(null!==t&&(t.classList.remove("focus"),void 0!==this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),void 0!==this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),!0):!1},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";var n,s,a=i(10),o=i(5),c=i(3),r={};i(11),n=new a({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),n.setScreen=function(e){var t;return e?(e.availHeight=e.height-(e.availTop+e.availBottom),e.availWidth=e.width-(e.availLeft+e.availRight),window.moveTo(0,0),window.resizeTo(e.width,e.height),t=document.querySelector("link[rel=stylesheet]"),t&&t instanceof HTMLLinkElement&&document.head.removeChild(t),t=document.createElement("link"),t.rel="stylesheet",t.href="css/"+e.height+".css",document.head.appendChild(t),this.data.screen=e,!0):!1},n.setScreen(i(33)[screen.height]);for(s in c)"volumeUp"!==s&&"volumeDown"!==s&&(r[c[s]]=!0);window.addEventListener("load",function(e){var t;n.data.time.load=e.timeStamp,void 0!==n.events[e.type]&&n.emit(e.type,e),o.pages.forEach(function(t){void 0!==t.events[e.type]&&t.emit(e.type,e)}),location.hash&&(t=o.parse(location.hash),o.navigate(t.name,t.data)),n.data.time.done=+new Date,void 0!==n.events.done&&n.emit("done",e)}),window.addEventListener("unload",function(e){void 0!==n.events[e.type]&&n.emit(e.type,e),o.pages.forEach(function(t){void 0!==t.events[e.type]&&t.emit(e.type,e)})}),window.addEventListener("error",function(e){}),window.addEventListener("keydown",function(e){var t=o.current;0!==e.keyCode&&(e.code=e.keyCode,e.shiftKey&&(e.code+=1e3),e.altKey&&(e.code+=2e3),t.activeComponent&&t.activeComponent!==t&&void 0!==t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e),e.stop||void 0!==t.events[e.type]&&t.emit(e.type,e),e.stop||void 0!==n.events[e.type]&&n.emit(e.type,e),n.data.host&&r[e.code]&&e.preventDefault())}),window.addEventListener("keypress",function(e){var t=o.current;t.activeComponent&&t.activeComponent!==t&&void 0!==t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e)}),window.addEventListener("click",function(e){}),window.addEventListener("contextmenu",function(e){e.preventDefault()}),e.exports=n},function(e,t,i){"use strict";function n(e){s.call(this),this.data=e||{}}var s=i(6);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.idName="id",n.prototype.clear=function(){var e=this.data;return Object.keys(e).length>0?(this.data={},void 0!==this.events.clear&&this.emit("clear",{data:e}),!0):!1},n.prototype.init=function(e){return e?(this.clear(),this.data=e,void 0!==this.events.init&&this.emit("init",{data:e}),!0):!1},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){var i=e in this.data,n={name:e,curr:t};return i?(n.prev=this.data[e],t!==n.prev?(this.data[e]=t,void 0!==this.events.change&&this.emit("change",n),!0):!1):(this.data[e]=t,void 0!==this.events.change&&this.emit("change",n),!0)},n.prototype.unset=function(e){var t,i=e in this.data;return i?(t={name:e,prev:this.data[e]},delete this.data[e],void 0!==this.events.change&&this.emit("change",t),!0):!1},e.exports=n},function(){"use strict";if(!("classList"in document.documentElement)){var e=Array.prototype,t=e.indexOf,i=e.slice,n=e.push,s=e.splice,a=e.join;window.DOMTokenList=function(e){if(this._element=e,e.className!==this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<i.length;t++)n.call(this,i[t])}},window.DOMTokenList.prototype={add:function(e){this.contains(e)||(n.call(this,e),this._element.className=i.call(this,0).join(" "))},contains:function(e){return-1!==t.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var n=t.call(this,e);-1!==n&&(s.call(this,n,1),this._element.className=i.call(this,0).join(" "))},toString:function(){return a.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(e,t,i){"use strict";function n(e){var t=this;e=e||{},this.value=!!e.value,this.group=null,s.call(this,e),this.$node.classList.add("checkBox"),this.value&&this.$node.classList.add("checked"),void 0!==e.group&&(this.group=e.group,void 0===o[e.group]?o[e.group]=[this]:o[e.group].push(this)),this.addListeners({click:function(){t.set(!t.value)},keydown:function(e){e.code===a.ok&&t.set(!t.value)}})}var s=i(1),a=i(3),o={};n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.set=function(e){var t,i;if(this.value!==e){if(!this.value&&null!==this.group)for(t=0,i=o[this.group].length;i>t;t++)o[this.group][t].set(!1);return this.value=!this.value,this.$node.classList.toggle("checked"),void 0!==this.events.change&&this.emit("change",{value:this.value}),!0}return!1},e.exports=n},function(e,t,i){"use strict";function n(e){var t=this;this.map=[],this.$focusItem=null,this.data=[],this.cycleX=!0,this.cycleY=!0,this.focusX=0,this.focusY=0,e=e||{},c.call(this,e),this.$node.classList.add("grid"),this.init(e),void 0!==e.navigate&&(this.navigateDefault=e.navigate),this.addListener("keydown",this.navigateDefault),this.$body.addEventListener("mousewheel",function(e){e.wheelDeltaY&&t.move(e.wheelDeltaY>0?r.up:r.down),e.wheelDeltaX&&t.move(e.wheelDeltaX>0?r.left:r.right)})}function s(e){var t,i,n;for(t=0;t<e.length;t++)for(i=0;i<e[t].length;i++)n=e[t][i],"object"!=typeof n?n=e[t][i]={value:e[t][i],colSpan:1,rowSpan:1}:(n.colSpan=n.colSpan||1,n.rowSpan=n.rowSpan||1);return e}function a(e,t,i,n,s,a){var o,c;for(o=i;i+s>o;o++){for(e.length<o+1&&e.push([]);void 0!==e[o][t];)t++;for(c=t;t+n>c;c++)e[o].length<c+1&&e[o].push(),e[o][c]=a,void 0===a.x&&(a.x=c),void 0===a.y&&(a.y=o)}}function o(e){var t,i,n,s=[];for(t=0;t<e.length;t++)for(i=0;i<e[t].length;i++)n=e[t][i],a(s,i,t,n.colSpan,n.rowSpan,n.$item),delete n.$item;return s}var c=i(1),r=i(3);n.prototype=Object.create(c.prototype),n.prototype.constructor=n,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.navigateDefault=function(e){switch(e.code){case r.up:case r.down:case r.right:case r.left:this.move(e.code);break;case r.ok:void 0!==this.events["click:item"]&&this.emit("click:item",{$item:self.$focusItem,event:e})}},n.prototype.navigate=n.prototype.navigateDefault,n.prototype.init=function(e){var t,i,n,a,c,r,h,d=this,l=!1,u=function(e){this.data.disable!==!0&&(d.focusItem(this),void 0!==d.events["click:item"]&&d.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycleX&&(this.cycleX=e.cycleX),void 0!==e.cycleY&&(this.cycleY=e.cycleY),void 0!==e.data&&this.data!==e.data&&(this.data=e.data,l=!0),void 0!==e.render&&this.renderItem!==e.render&&(this.renderItem=e.render,l=!0),l){for(this.$table=document.createElement("table"),c=document.createElement("tbody"),this.data=s(this.data),t=0;t<this.data.length;t++){for(n=c.insertRow(),i=0;i<this.data[t].length;i++)a=n.insertCell(-1),a.className="item",h=this.data[t][i],h.$item=a,a.colSpan=h.colSpan,a.rowSpan=h.rowSpan,h.focus&&(r=a),h.disable&&a.classList.add("disable"),h.mark&&a.classList.add("mark"),this.renderItem(a,h),a.data=h,a.addEventListener("click",u);c.appendChild(n)}this.map=o(this.data),this.$body.innerText=null,this.$table.appendChild(c),this.$body.appendChild(this.$table),this.focusItem(void 0!==r?r:this.map[0][0])}},n.prototype.move=function(e){for(var t=this.focusX,i=this.focusY,n=!0,s=!1,a=!1;n;){switch(e){case r.up:i>0?i--:this.cycleY?(i=this.map.length-1,a=!0):s=!0;break;case r.down:i<this.map.length-1?i++:this.cycleY?(i=0,a=!0):s=!0;break;case r.right:t<this.map[i].length-1?t++:this.cycleX?(t=0,a=!0):s=!0;break;case r.left:t>0?t--:this.cycleX?(t=this.map[i].length-1,a=!0):s=!0}t===this.focusX&&i===this.focusY&&(n=!1),this.map[i][t]!==this.map[this.focusY][this.focusX]&&this.map[i][t].data.disable!==!0&&(n=!1),s&&(n=!1,this.map[i][t].data.disable===!0&&(t=this.focusX,i=this.focusY))}a&&void 0!==this.events.cycle&&this.emit("cycle",{direction:e}),s&&void 0!==this.events.overflow&&this.emit("overflow",{direction:e}),this.focusItem(this.map[i][t]),this.focusX=t,this.focusY=i},n.prototype.focusItem=function(e){var t=this.$focusItem;return void 0!==e&&t!==e&&e.data.disable!==!0?(null!==t&&(t.classList.remove("focus"),void 0!==this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.focusX=e.x,this.focusY=e.y,this.$focusItem=e,e.classList.add("focus"),void 0!==this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),!0):!1},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";function n(e){var t=this;e=e||{},this.value="",this.placeholder="",this.$caret=document.createElement("span"),this.type=this.TYPE_TEXT,s.call(this,e),this.$caret.index=0,void 0!==e.type&&(this.type=e.type),void 0!==e.value&&this.setValue(e.value),void 0!==e.placeholder&&(this.placeholder=e.placeholder),this.$node.classList.add("input"),this.$caret.classList.add("caret"),0===this.value.length&&this.placeholder.length>0?this.$body.innerText=this.placeholder:this.$body.appendChild(this.$caret),this.addListener("keydown",function(e){switch(e.code){case a["delete"]:t.removeChar(t.$caret.index);break;case a.back:t.removeChar(t.$caret.index-1);break;case a.left:case a.right:t.moveCaret(e.code);break;case a.end:case a.down:t.moveCaret(0,t.value.length);break;case a.home:case a.up:t.moveCaret(0,0)}}),this.addListener("keypress",function(e){t.addChar(String.fromCharCode(e.keyCode),t.$caret.index)})}var s=i(1),a=i(3);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.TYPE_TEXT=0,n.prototype.TYPE_PASSWORD=1,n.prototype.addChar=function(e,t){var i=document.createElement("span");t=void 0===t?this.$caret.index:t,0===this.value.length&&this.placeholder.length>0&&(this.$body.innerText="",this.$body.appendChild(this.$caret)),i.className="char",this.value=this.value.substring(0,t)+e+this.value.substring(t,this.value.length),++this.$caret.index,this.type===this.TYPE_PASSWORD?i.innerText="*":" "===e?i.innerHTML="&nbsp;":i.innerText=e,t>=this.value.length?(this.$body.appendChild(i),this.$body.appendChild(this.$caret)):(this.$body.insertBefore(this.$caret,this.$body.children.item(t)),this.$body.insertBefore(i,this.$caret)),void 0!==this.events.input&&this.emit("input",{value:this.value})},n.prototype.removeChar=function(e){e=void 0===e?this.$caret.index-1:e,this.value.length>0&&(this.$caret.index===e&&e<this.value.length?this.$body.removeChild(this.$body.children.item(e+1)):this.$caret.index>e&&(--this.$caret.index,this.$body.removeChild(this.$body.children.item(e))),this.value=this.value.substring(0,e)+this.value.substring(e+1,this.value.length),void 0!==this.events.input&&this.emit("input",{value:this.value})),0===this.value.length&&this.placeholder.length>0&&(null!==this.$caret.parentNode&&this.$body.removeChild(this.$caret),this.$body.innerText=this.placeholder)},n.prototype.moveCaret=function(e,t){void 0===t&&(t=this.$caret.index,e===a.right?++t:--t),t>=0&&t<=this.value.length&&(t===this.value.length?this.$body.appendChild(this.$caret):this.$caret.index<t?this.$body.insertBefore(this.$caret,this.$body.children.item(t+1)):this.$body.insertBefore(this.$caret,this.$body.children.item(t)),this.$caret.index=t)},n.prototype.setValue=function(e){var t,i=e.length,n=0,s=document.createDocumentFragment();if(i>0){for(0===this.value.length&&this.placeholder.length>0&&(this.$body.innerText=""),null!==this.$caret.parentNode&&this.$body.removeChild(this.$caret),this.$caret.index=0;n<this.value.length;)t=this.$body.children.item(n),this.type===this.TYPE_PASSWORD||(" "===e[n]?t.innerHTML="&nbsp;":t.innerText=e[n]),++n;if(i<this.value.length)for(;this.value.length!==i;)this.$body.removeChild(this.$body.lastChild),this.value=this.value.substring(0,this.value.length-1);for(;n<e.length;)t=document.createElement("span"),t.className="char",s.appendChild(t),this.type===this.TYPE_PASSWORD?t.innerText="*":" "===e[n]?t.innerHTML="&nbsp;":t.innerText=e[n],++n;this.$body.appendChild(s),this.value=e,this.$caret.index=n,this.$body.appendChild(this.$caret)}else this.placeholder.length>0&&(null!==this.$caret.parentNode&&this.$body.removeChild(this.$caret),this.value="",this.$body.innerText=this.placeholder);void 0!==this.events.input&&this.emit("input",{value:this.value})},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},s.call(this,e),this.$node.classList.add("modal")}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.max=100,this.min=0,this.value=0,this.step=1,this.focusable=!1,s.call(this,e),this.$node===this.$body&&(this.$body=this.$node.appendChild(document.createElement("div"))),this.$node.classList.add("progressBar"),this.$body.classList.add("value"),this.init(e)}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.set=function(e){var t=this.value;return this.value!==e&&e<=this.max&&e>=this.min?(this.value=e,e=Math.abs(this.value-this.min)/this.step,100===e&&void 0!==this.events.done&&this.emit("done"),this.$body.style.width=e+"%",void 0!==this.events.change&&this.emit("change",{curr:this.value,prev:t}),!0):!1},n.prototype.init=function(e){void 0!==e.max&&(this.max=e.max),void 0!==e.min&&(this.min=e.min),void 0!==e.value&&(this.value=e.value),this.step=Math.abs(this.max-this.min)/100,this.$body.style.width=Math.abs(this.min-this.value)/this.step+"%"},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.max=0,this.min=0,this.value=0,this.type=n.TYPE_VERTICAL,this.ratio=1,this.focusable=!1,s.call(this,e),this.$node===this.$body&&(this.$body=this.$node.appendChild(document.createElement("div"))),this.$node.classList.add("scrollBar"),this.$body.classList.add("value"),this.init(e)}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.init=function(e){e=e||{},void 0!==e.max&&(this.max=e.max),void 0!==e.min&&(this.min=e.min),this.ratio=Math.abs(this.min/this.max),this.value=void 0!==e.value?e.value:0===this.value?this.min:this.value,this.type===n.TYPE_VERTICAL?(this.$node.classList.add("vertical"),this.$body.style.height=this.$node.offsetHeight*this.ratio+"px",this.$body.style.top=(this.value-this.min)*this.ratio+"px"):(this.$node.classList.add("horizontal"),this.$body.style.width=this.$node.offsetWidth*this.ratio+"px",this.$body.style.left=(this.value-this.min)*this.ratio+"px")},n.prototype.scrollTo=function(e){return this.value!==e&&e<=this.max&&e>=this.min?(e>=this.max&&(e=this.max,void 0!==this.events.done&&this.emit("done")),this.type===n.TYPE_VERTICAL?this.$body.style.top=(e-this.min)*this.ratio+"px":this.$body.style.left=(e-this.min)*this.ratio+"px",void 0!==this.events.change&&this.emit("change",{curr:e,prev:this.value}),this.value=e,!0):!1},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},e.focusable=e.focusable||!1,e.visible=e.visible||!1,s.call(this,e),this.$node.classList.add("widget")}var s=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";var n="pageHelp",s=i(7),a=i(4),o=i(5),c=new s({$node:document.getElementById(n)});c.addListener("load",function(){c.add(c.back=new a({value:"go back",events:{click:function(){o.navigate("pageMain")}}}))}),c.addListener("show",function(){c.back.focus()}),e.exports=c},function(e,t,i){"use strict";var n="pageInit",s=i(7),a=new s({$node:document.getElementById(n)});e.exports=a},function(e,t,i){"use strict";var n="pageMain",s=i(8),a=i(7),o=new a({$node:document.getElementById(n)});o.addListener("load",function(){var e=[{value:"Panel",panel:i(30)},{value:"Button",panel:i(22)},{value:"Input",panel:i(26)},{value:"CheckBox",panel:i(23)},{value:"Grid",panel:i(25)},{value:"List",panel:i(27)},{value:"ProgressBar",panel:i(31)},{value:"Page",panel:i(29)},{value:"Modal",panel:i(28)},{value:"Widget",panel:i(32)}];e.forEach(function(e){o.add(e.panel)}),o.add(o.menu=new s({$node:document.getElementById("pageMainMenu"),data:e,size:10,cycle:!0,render:function(e,t){e.textContent=t.value},events:{"focus:item":function(e){e.$prev&&e.$prev.data.panel.hide(),e.$curr.data.panel.show()}}})),o.menu.focusItem(o.menu.$body.firstChild),o.focusable=!1}),o.addListener("show",function(){o.activeComponent||o.menu.focus()}),e.exports=o},function(e,t,i){"use strict";var n=i(4),s=i(2),a=new s({$node:document.getElementById("pageMainTabButton"),visible:!1});a.add(new s({$node:document.getElementById("pageMainTabButtonSimple"),children:[new n({value:"press me"})]}),new s({$node:document.getElementById("pageMainTabButtonIcon"),children:[new n({icon:"menu"})]}),new s({$node:document.getElementById("pageMainTabButtonIconText"),children:[new n({icon:"menu",value:"press me"})]})),e.exports=a},function(e,t,i){"use strict";var n=i(2),s=i(12),a=new n({$node:document.getElementById("pageMainTabCheckBox"),visible:!1});a.add(new n({$node:document.getElementById("pageMainTabCheckBoxSimple"),children:[new s]}),new n({$node:document.getElementById("pageMainTabCheckBoxGroup"),children:[new s({group:"main",value:!1}),new s({group:"main",value:!0}),new s({group:"main",value:!1}),new s({group:"main",value:!1})]})),e.exports=a},function(e){"use strict";e.exports={"table 1x1 with no merge":{raw:[[1]],check:[[1]]},"table 3x3 with no merge":{raw:[[1,2,3],[4,5,6],[7,8,9]],check:[[1,2,3],[4,5,6],[7,8,9]]},"table 3x3 with merge 2x2 #1":{raw:[[{value:"1;2;4;5",rowSpan:2,colSpan:2},3],[6],[7,8,9]],check:[["1;2;4;5","1;2;4;5",3],["1;2;4;5","1;2;4;5",6],[7,8,9]]},"table 3x3 with merge 2x2 #2":{raw:[[1,{value:"2;3;5;6",rowSpan:2,colSpan:2}],[4],[7,8,9]],check:[[1,"2;3;5;6","2;3;5;6"],[4,"2;3;5;6","2;3;5;6"],[7,8,9]]},"table 3x3 with merge 2x2 #3":{raw:[[1,2,3],[4,{value:"5;6;8;9",rowSpan:2,colSpan:2}],[7]],check:[[1,2,3],[4,"5;6;8;9","5;6;8;9"],[7,"5;6;8;9","5;6;8;9"]]},"table 3x3 with merge 2x2 #4":{raw:[[1,2,3],[{value:"4;5;7;8",rowSpan:2,colSpan:2},6],[9]],check:[[1,2,3],["4;5;7;8","4;5;7;8",6],["4;5;7;8","4;5;7;8",9]]},"table 3x3 with merge 3x1 #1":{raw:[[{value:"1;2;3",colSpan:3}],[4,5,6],[7,8,9]],check:[["1;2;3","1;2;3","1;2;3"],[4,5,6],[7,8,9]]},"table 3x3 with merge 3x1 #2":{raw:[[1,2,3],[{value:"4;5;6",colSpan:3}],[7,8,9]],check:[[1,2,3],["4;5;6","4;5;6","4;5;6"],[7,8,9]]},"table 3x3 with merge 3x1 #3":{raw:[[1,2,3],[4,5,6],[{value:"7;8;9",colSpan:3}]],check:[[1,2,3],[4,5,6],["7;8;9","7;8;9","7;8;9"]]},"table 3x3 with merge 1x3 #1":{raw:[[{value:"1;4;7",rowSpan:3},2,3],[5,6],[8,9]],check:[["1;4;7",2,3],["1;4;7",5,6],["1;4;7",8,9]]},"table 3x3 with merge 1x3 #2":{raw:[[1,{value:"2;5;8",rowSpan:3},3],[4,6],[7,9]],check:[[1,"2;5;8",3],[4,"2;5;8",6],[7,"2;5;8",9]]},"table 3x3 with merge 1x3 #3":{raw:[[1,2,{value:"3;6;9",rowSpan:3}],[4,5],[7,8]],check:[[1,2,"3;6;9"],[4,5,"3;6;9"],[7,8,"3;6;9"]]},"table 2x2 with all merged cells":{raw:[[{value:"1-4",rowSpan:2,colSpan:2}]],check:[["1-4","1-4"],["1-4","1-4"]]},"table 3x3 with all merged cells":{raw:[[{value:"1-9",rowSpan:3,colSpan:3}]],check:[["1-9","1-9","1-9"],["1-9","1-9","1-9"],["1-9","1-9","1-9"]]},"table 3x3 with horizontal stripes #1":{raw:[[{value:"1;2",colSpan:2},3],[4,{value:"5;6",colSpan:2}],[{value:"7;8",colSpan:2},9]],check:[["1;2","1;2",3],[4,"5;6","5;6"],["7;8","7;8",9]]},"table 3x3 with horizontal stripes #2":{raw:[[1,{value:"2;3",colSpan:2}],[{value:"4;5",colSpan:2},6],[7,{value:"8;9",colSpan:2}]],check:[[1,"2;3","2;3"],["4;5","4;5",6],[7,"8;9","8;9"]]},"table 3x3 with vertical stripes #1":{raw:[[{value:"1;4",rowSpan:2},2,{value:"3;6",rowSpan:2}],[{value:"5;8",rowSpan:2}],[7,9]],check:[["1;4",2,"3;6"],["1;4","5;8","3;6"],[7,"5;8",9]]},"table 3x3 with vertical stripes #2":{raw:[[1,{value:"2;5",rowSpan:2},3],[{value:"4;7",rowSpan:2},{value:"6;9",rowSpan:2}],[8]],check:[[1,"2;5",3],["4;7","2;5","6;9"],["4;7",8,"6;9"]]},"table 3x3 with spiral merge #1":{raw:[[{value:"1;2",rowSpan:1,colSpan:2},{value:"3;6",rowSpan:2,colSpan:1}],[{value:"4;7",rowSpan:2,colSpan:1},5],[{value:"8;9",rowSpan:1,colSpan:2}]],check:[["1;2","1;2","3;6"],["4;7",5,"3;6"],["4;7","8;9","8;9"]]},"table 3x3 with spiral merge #2":{raw:[[{value:"1;4",rowSpan:2,colSpan:1},{value:"2;3",rowSpan:1,colSpan:2}],[5,{value:"6;9",rowSpan:2,colSpan:1}],[{value:"7;8",rowSpan:1,colSpan:2}]],check:[["1;4","2;3","2;3"],["1;4",5,"6;9"],["7;8","7;8","6;9"]]},"table 5x5 with merge #1":{raw:[[1,2,3,4,5],[6,{value:"7-9",colSpan:3},10],[{value:"11;12;16;17",rowSpan:2,colSpan:2},13,14,{value:"15;20",rowSpan:2}],[18,19],[{value:"26-30",colSpan:5}],[{value:"31-40",colSpan:5,rowSpan:2}]],check:[[1,2,3,4,5],[6,"7-9","7-9","7-9",10],["11;12;16;17","11;12;16;17",13,14,"15;20"],["11;12;16;17","11;12;16;17",18,19,"15;20"],["26-30","26-30","26-30","26-30","26-30"],["31-40","31-40","31-40","31-40","31-40"],["31-40","31-40","31-40","31-40","31-40"]]},"table 5x5 with merge #2":{raw:[[1,2,3,4,{value:"5;10;15;20",rowSpan:4}],[6,{value:"7-9",colSpan:3}],[{value:"11;12;16;17",rowSpan:2,colSpan:2},13,14],[18,19],[{value:"21-25",colSpan:5}],[{value:"26-35",colSpan:5,rowSpan:2}]],check:[[1,2,3,4,"5;10;15;20"],[6,"7-9","7-9","7-9","5;10;15;20"],["11;12;16;17","11;12;16;17",13,14,"5;10;15;20"],["11;12;16;17","11;12;16;17",18,19,"5;10;15;20"],["21-25","21-25","21-25","21-25","21-25"],["26-35","26-35","26-35","26-35","26-35"],["26-35","26-35","26-35","26-35","26-35"]]},"table 4x2 with tricky long columns #1":{raw:[[{value:"1;3;5",rowSpan:3},2],[{value:"4;6;8",rowSpan:3}],[],[7]],check:[["1;3;5",2],["1;3;5","4;6;8"],["1;3;5","4;6;8"],[7,"4;6;8"]]},"table 4x2 with tricky long columns #2":{raw:[[1,{value:"2;4;6",rowSpan:3}],[{value:"3;5;7",rowSpan:3}],[],[8]],check:[[1,"2;4;6"],["3;5;7","2;4;6"],["3;5;7","2;4;6"],["3;5;7",8]]}}
},function(e,t,i){"use strict";var n,s,a=i(2),o=i(4),c=i(13),r=i(3),h=i(24),d=new a({$node:document.getElementById("pageMainTabGrid"),visible:!1}),l=0;Object.keys(h).forEach(function(e){h[e].raw.forEach(function(e){e=e.map(function(e){return"object"!=typeof e&&(e={value:e}),e}),e.forEach(function(e){Math.random()>.7&&(e.disable=!0)})})}),d.add(new o({$node:document.getElementById("pageMainTabGridBtnPrev"),value:"<< prev grid data",events:{click:function(){var e;l>0&&(l--,e=Object.keys(h)[l],n.parent.$node.children[0].innerText=e,n.init({data:h[e].raw}))}}}),new o({$node:document.getElementById("pageMainTabGridBtnNext"),value:"next grid data >>",events:{click:function(){var e;l<Object.keys(h).length-1&&(l++,e=Object.keys(h)[l],n.parent.$node.children[0].innerText=e,n.init({data:h[e].raw}))}}}),new o({$node:document.getElementById("pageMainTabGridBtnCycle"),value:"toggle cycle mode",events:{click:function(){n.init({cycleX:!n.cycleX,cycleY:!n.cycleY})}}}),new a({$node:document.getElementById("pageMainTabGridMain"),$body:document.getElementById("pageMainTabGridMainBody"),children:[n=new c({data:[[{value:1,disable:!0},2,3,4],[5,{value:6,disable:!0},7,8],[9,10,11,12],[13,14,15,{value:16,focus:!0}]],render:function(e,t){e.innerHTML="<div>"+t.value+"</div>"},cycleX:!1,cycleY:!1})]}),new a({$node:document.getElementById("pageMainTabGridJoin"),children:[s=new c({data:[[1,2,{value:3,mark:!0},4,{value:"5;10;15;20",rowSpan:4,disable:!0}],[{value:6},{value:"7-9",colSpan:3,disable:!0}],[{value:"11;12;16;17",rowSpan:2,colSpan:2,disable:!0},{value:13,mark:!0},14],[18,19],[{value:"21-25",colSpan:5}],[{value:"26-35",colSpan:5,rowSpan:2}]],events:{"click:item":function(e){s.markItem(e.$item,!e.$item.data.mark)}},navigate:function(e){e.code===r.up&&this.move(r.down),e.code===r.down&&this.move(r.up),e.code===r.right&&this.move(r.left),e.code===r.left&&this.move(r.right)}})]})),e.exports=d},function(e,t,i){"use strict";var n=i(14),s=i(2),a=new s({$node:document.getElementById("pageMainTabInput"),visible:!1});a.add(new s({$node:document.getElementById("pageMainTabInputSimple"),children:[new n({value:"some text",events:{click:function(){}}})]})),e.exports=a},function(e,t,i){"use strict";var n,s=i(2),a=i(8),o=i(17),c=new s({$node:document.getElementById("pageMainTabList"),visible:!1}),r=new o({$node:document.getElementById("pageMainTabListCustomScroll"),min:5,max:100});c.add(new s({$node:document.getElementById("pageMainTabListSimple"),children:[new a({data:[1,{value:2,mark:!0},3,{value:44,disable:!0}],size:5,cycle:!0,events:{click:function(e){},focus:function(e){},cycle:function(){},overflow:function(){},"click:item":function(e){},"focus:item":function(e){},"blur:item":function(e){}}})]}),new s({$node:document.getElementById("pageMainTabListCustom"),children:[n=new a({$node:document.getElementById("pageMainTabListCustomList"),scroll:r,data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(e,t){return{value:1e4+e+t,mark:Math.random()>.7}}),size:5,render:function(e,t){e.innerHTML="["+t.value+"]"},cycle:!1,events:{click:function(){},focus:function(){},cycle:function(){},overflow:function(){},"click:item":function(e){n.markItem(e.$item,!e.$item.data.mark)},"focus:item":function(){},"blur:item":function(){}}})]}),new s({$node:document.getElementById("pageMainTabListHoriz"),children:[new a({data:Array.apply(null,new Array(101)).map(Number.prototype.valueOf,0).map(function(e,t){return"sequence: "+t+e}),type:a.prototype.TYPE_HORIZONTAL,cycle:!0,events:{overflow:function(){}}})]})),e.exports=c},function(e,t,i){"use strict";var n=i(4),s=i(2),a=i(15),o=new s({$node:document.getElementById("pageMainTabModal"),visible:!1});o.add(new n({value:"show modal window",events:{click:function(){o.add(o.modal=new a({events:{click:function(){o.modal.remove()}}})),o.modal.focus()}}})),e.exports=o},function(e,t,i){"use strict";var n=i(4),s=i(2),a=i(5),o=new s({$node:document.getElementById("pageMainTabPage"),visible:!1});o.add(new n({value:"switch to page Help",events:{click:function(){a.navigate("pageHelp")}}})),e.exports=o},function(e,t,i){"use strict";var n=i(2),s=new n({$node:document.getElementById("pageMainTabPanel"),visible:!1});s.add(new n({$node:document.getElementById("pageMainTabPanelSimple")}),new n({$node:document.getElementById("pageMainTabPanelMulti")}),new n({$node:document.getElementById("pageMainTabPanelParent"),children:[new n({$node:document.getElementById("pageMainTabPanelChild")})]})),e.exports=s},function(e,t,i){"use strict";var n,s=i(2),a=i(16),o=i(3),c=new s({$node:document.getElementById("pageMainTabProgressBar"),visible:!1});c.add(new s({$node:document.getElementById("pageMainTabProgressBarPanel"),children:[n=new a({min:-50,max:50,value:0,events:{keydown:function(e){e.code===o.right&&n.set(n.value+1),e.code===o.left&&n.set(n.value-1)},done:function(){},change:function(e){}}})]})),e.exports=c},function(e,t,i){"use strict";var n=i(4),s=i(2),a=i(18),o=new s({$node:document.getElementById("pageMainTabWidget"),visible:!1}),c=new a({$node:document.getElementById("pageMainTabWidgetW1"),events:{click:function(){c.hide()}}}),r=new a({$node:document.getElementById("pageMainTabWidgetW2"),events:{click:function(){r.hide()}}}),h=new a({$node:document.getElementById("pageMainTabWidgetW3"),events:{click:function(){h.hide()}}});o.add(new n({value:"show local tab widget",events:{click:function(){c.show()}}}),new n({value:"show local page widget",events:{click:function(){r.show()}}}),new n({value:"show global app widget",events:{click:function(){h.show()}}})),e.exports=o},function(e){"use strict";e.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:28,availLeft:54},720:{height:720,width:1280,availTop:10,availBottom:10,availRight:10,availLeft:10},1080:{height:1080,width:1920,availTop:15,availBottom:15,availRight:15,availLeft:15}}}]);